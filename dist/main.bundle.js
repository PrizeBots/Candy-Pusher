"use strict";(self.webpackChunkcandy_pusher=self.webpackChunkcandy_pusher||[]).push([[179],{897:()=>{class e{constructor(e,t){this.engine=e,this.canvas=t,this.scene=new BABYLON.Scene(e),this.scene.enablePhysics(new BABYLON.Vector3(0,-50,0),new BABYLON.CannonJSPlugin),this._setupLighting(),this._setupCamera(),this.cameraLocked=!0,this.camera}cameraLock(){console.log("camera lock"),this.cameraLocked?(this.cameraLocked=!1,this.camera.attachControl(this.canvas,!0)):(this.cameraLocked=!0,this.camera.detachControl(this.canvas))}_setupLighting(){new BABYLON.HemisphericLight("light",new BABYLON.Vector3(0,.9,0),this.scene).intensity=.85}_setupCamera(){var e=new BABYLON.ArcRotateCamera("camera1",Math.PI/2,Math.PI/2.8,200,new BABYLON.Vector3(0,0,0),this.scene);e.target.y=-22,e.fov=.7,e.aspectRatio=this.canvas.width/this.canvas.height,this.camera=e}getScene(){return this.scene}}class t{constructor(e){this.scene=e,this.wallMaterial=null,this.pusherMaterial=null,this.coinMaterials={},this.objectMaterials={},this._createMaterials()}_createMaterials(){this.collisionBoxMaterial=new BABYLON.StandardMaterial("collisionBoxMaterial",this.scene),this.collisionBoxMaterial.diffuseColor=new BABYLON.Color3(.196,.784,.196),this.wallMaterial=new BABYLON.StandardMaterial("wallMaterial",this.scene),this.wallMaterial.diffuseColor=new BABYLON.Color3(0,.31,.31),this.pusherMaterial=new BABYLON.StandardMaterial("pusherMaterial",this.scene),this.pusherMaterial.diffuseColor=new BABYLON.Color3(2,.31,.31),this.coinMaterials.gold=new BABYLON.StandardMaterial("coinGoldMat",this.scene),this.coinMaterials.gold.diffuseColor=new BABYLON.Color3(1,.843,0),this.coinMaterials.red=new BABYLON.StandardMaterial("coinRedMat",this.scene),this.coinMaterials.red.diffuseColor=new BABYLON.Color3(1,0,0),this.coinMaterials.blue=new BABYLON.StandardMaterial("coinBlueMat",this.scene),this.coinMaterials.blue.diffuseColor=new BABYLON.Color3(0,0,1),this.objectMaterials.donut=new BABYLON.StandardMaterial("donut",this.scene),this.objectMaterials.donut.diffuseColor=new BABYLON.Color3(1,.5,.5)}getMaterial(e){return this.coinMaterials[e]?this.coinMaterials[e]:this.objectMaterials[e]?this.objectMaterials[e]:"wallMaterial"===e?this.wallMaterial:"pusherMaterial"===e?this.pusherMaterial:"collisionBoxMaterial"===e?this.collisionBoxMaterial:null}}class o{constructor(e,t,o){this.scene=e,this.materialManager=t,this.game=o,this.pusherSpeed=.5,this.pusherDirection=1,this.pusherLimitFront=20,this.pusherLimitBack=-15,this.frameRate=60,this.createPusher()}createPusher(){const e=BABYLON.MeshBuilder.CreateBox("pusher",{width:40,height:10,depth:50},this.scene);return e.position.y=1,e.position.z=-25,e.material=this.materialManager.getMaterial("pusherMaterial"),e.physicsImpostor=new BABYLON.PhysicsImpostor(e,BABYLON.PhysicsImpostor.BoxImpostor,{mass:0,restitution:0,friction:1},this.scene),this.pusher=e,this.pusherParent=new BABYLON.Mesh("pusherParent",this.scene),this.pusherParent.addChild(this.pusher),this.updatePusher(),o}updatePusher(){if(this.pusher){const e=10,t=new BABYLON.Animation("zSlide","position.z",e,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE),o=[];o.push({frame:0,value:this.pusherLimitFront}),o.push({frame:e,value:this.pusherLimitBack}),o.push({frame:2*e,value:this.pusherLimitFront}),t.setKeys(o),this.pusherParent.animations.push(t),this.scene.beginAnimation(this.pusherParent,0,2*e,!0,this.pusherSpeed)}}bigPush(){console.log("  bigPush !"),this.pusherDirection=1,this.pusherSpeed=10,this.pusherLimitFront=15,setTimeout((()=>{this.pusherSpeed=.25,this.pusherLimitFront=-5}),2e3)}}class i{constructor(e){this.game=e,this.bonusWindowActive=!1,this.bonusWindowTimer=null,this.bonusCount=0,this.getTreat=!1,this.init()}init(){}checkGoal(e){this.handleBonusWindow();var t=e.name;e.isCounted||("cookieCylinder"===t?(this.game.score++,this.bonusCount++,this.game.cookieCount++,this.game.uiManager.updateCookieCounter()):"cupcakeCylinder"===t?(this.game.cupcakeCount+=1,this.getTreat=!0,this.game.score+=2,this.bonusCount+=2,this.game.uiManager.updateCupcakeCounter()):"donutCylinder"===t?(this.game.donutCount+=1,this.getTreat=!0,this.game.score+=4,this.bonusCount+=4,this.game.uiManager.updateDonutCounter()):"chocolateBarBox"===t?(this.game.chocolateCount+=1,this.getTreat=!0,this.game.score+=8,this.bonusCount+=8,this.game.uiManager.updateChocolateCounter()):"pieBox"===t?(this.game.pieCount+=1,this.getTreat=!0,this.game.score+=16,this.bonusCount+=16,this.game.uiManager.updatePieCounter(),e.isCounted=!0):console.log("goalPlane ?????s ",t)),1===this.bonusCount?this.game.get1Sound.play():2===this.bonusCount?this.game.get2Sound.play():3===this.bonusCount?this.game.get3Sound.play():4===this.bonusCount?this.game.get4Sound.play():5===this.bonusCount?this.game.get5Sound.play():6===this.bonusCount?this.game.get6Sound.play():7===this.bonusCount?this.game.get7Sound.play():8===this.bonusCount?this.game.get8Sound.play():9===this.bonusCount?this.game.get9Sound.play():10===this.bonusCount&&this.game.get10Sound.play(),this.getTreat&&(this.getTreat=!1,this.game.getTreatSound.play()),e.dispose(),this.game.uiManager.updateScore()}handleBonusWindow(){this.bonusWindowActive||(this.bonusWindowActive=!0,this.bonusCount=0,this.bonusWindowTimer=setTimeout((()=>{console.log(`Bonus value: ${this.bonusCount}`),this.handleDropRewards(),this.bonusWindowActive=!1}),2e3))}handleDropRewards(){if(this.bonusCount>1&&this.bonusCount<=3){var e=new BABYLON.Vector3(0,40,0);this.game.dropManager.dropCookie(!1,e),this.game.dropTreatSound.play()}else this.bonusCount>3&&this.bonusCount<=5?(this.game.dropManager.dropCupcake(),this.game.dropTreat2Sound.play()):this.bonusCount>=6&&this.bonusCount<8?(this.game.dropManager.dropDonut(),this.game.dropTreat2Sound.play()):this.bonusCount>=7&&this.bonusCount<10?(this.game.dropManager.dropCupcake(),this.game.dropManager.dropDonut(),this.game.dropTreat2Sound.play()):this.bonusCount>=10&&this.bonusCount<12?(this.game.dropManager.dropChocolateBar(),this.game.dropTreat2Sound.play()):this.bonusCount>=12&&this.bonusCount<14?(this.game.dropManager.dropCupcake(),this.game.dropManager.dropChocolateBar(),this.game.dropTreat2Sound.play()):this.bonusCount>=14&&this.bonusCount<16?(this.game.dropManager.dropChocolateBar(),this.game.dropManager.dropDonut(),this.game.dropTreat2Sound.play()):this.bonusCount>=16&&this.bonusCount<18?(this.game.dropManager.dropChocolateBar(),this.game.dropManager.dropCupcake(),this.game.dropManager.dropDonut(),this.game.dropTreat2Sound.play()):this.bonusCount>=16&&this.bonusCount<18&&(this.game.dropManager.dropPie(),this.game.dropTreat2Sound.play())}}class s{constructor(e,t,o){this.scene=e,this.game=o,this.materialManager=t,this.goal=new i(o)}createCapturePlane(){const e=BABYLON.MeshBuilder.CreateGround("capturePlane",{width:200,height:200,depth:0},this.scene);return e.position.y=-55,e.position.z=48,e.physicsImpostor=new BABYLON.PhysicsImpostor(e,BABYLON.PhysicsImpostor.BoxImpostor,{mass:0,restitution:0,kinematic:!1},this.scene),e.physicsImpostor.registerOnPhysicsCollide(this.scene.getPhysicsEngine().getImpostors(),((e,t)=>{t.object.dispose()})),e.isVisible=!1,e}createGoalPlane(){const e=BABYLON.MeshBuilder.CreateGround("goalPlane",{width:40,height:50,depth:0},this.scene);return e.position.y=-45,e.position.z=90,e.isVisible=!1,e.physicsImpostor=new BABYLON.PhysicsImpostor(e,BABYLON.PhysicsImpostor.BoxImpostor,{mass:0,restitution:0,kinematic:!1},this.scene),e.physicsImpostor.registerOnPhysicsCollide(this.scene.getPhysicsEngine().getImpostors(),((e,t)=>{this.goal.checkGoal(t.object)})),e}loadPlatformModel(){BABYLON.SceneLoader.ImportMesh("","assets/","gamePlatform.glb",this.scene,(e=>{if(e.length>0){const t=e[0];t.name="gamePlatform",t.position=new BABYLON.Vector3(0,9,0),t.rotation=BABYLON.Vector3.Zero(),t.setPivotMatrix(BABYLON.Matrix.Translation(0,-t.scaling.y,0))}}))}createPusher(){return this.pusher=new o(this.scene,this.materialManager,this.game),this.pusher}updatePusher(){this.pusher.updatePusher()}}class n{constructor(e,t,o){this.game=t,this.scene=e,this.materialManager=o,this.wallDownPosition=-15,this.wallUpPosition=15,this.wallSpeed=.18,this.wallDirection=1,this.wallTimer=null,this.wallsUp=!1,this.wallTime=5e3,this.wallMoving=!1,this.frameRate=60,this.DesignWalls()}DesignWalls(){this.createWall({width:3,height:60,depth:60,position:{x:0,y:-20,z:110},rotation:{x:0,y:300,z:0}}).isVisible=!1,this.createWall({width:3,height:30,depth:20,position:{x:-27,y:-5,z:25},rotation:{x:.1,y:-Math.PI/4,z:Math.PI/10}}),this.createWall({width:3,height:30,depth:20,position:{x:27,y:-5,z:25},rotation:{x:.1,y:Math.PI/4,z:-Math.PI/10}}),this.rightWall=this.createWall({width:3,height:15,depth:40,position:{x:-22,y:this.wallDownPosition,z:47}}),this.leftWall=this.createWall({width:3,height:15,depth:40,position:{x:22,y:this.wallDownPosition,z:47}}),this.leftWall.mass=1,this.rightWall.mass=2,this.leftWallParent=new BABYLON.Mesh("leftWallParent",this.scene),this.rightWallParent=new BABYLON.Mesh("rightWallParent",this.scene),this.leftWallParent.addChild(this.leftWall),this.rightWallParent.addChild(this.rightWall),this.createWall({width:3,height:15,depth:40,position:{x:-23,y:-15,z:90}}),this.createWall({width:3,height:15,depth:40,position:{x:23,y:-15,z:90}}),this.createWall({width:3,height:15,depth:40,position:{x:0,y:-18,z:65},rotation:{x:0,y:300,z:0}})}createWall(e){const t=BABYLON.MeshBuilder.CreateBox("wall",{width:e.width,height:e.height,depth:e.depth},this.scene);return t.position.x=e.position.x,t.position.y=e.position.y+e.height/2,t.position.z=e.position.z,e.rotation&&(t.rotation.x=e.rotation.x||0,t.rotation.y=e.rotation.y||0,t.rotation.z=e.rotation.z||0),t.material=this.materialManager.getMaterial("collisionBoxMaterial"),t.physicsImpostor=new BABYLON.PhysicsImpostor(t,BABYLON.PhysicsImpostor.BoxImpostor,{mass:0,restitution:.1,friction:0}),t}raiseWallsWithTween(){if(!this.wallsUp){this.wallsUp=!0,console.log("walls up11");const e=new BABYLON.Animation("raiseAnimation","position.y",this.frameRate,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT,BABYLON.Animation.EASINGMODE_EASEINOUT),t=[];t.push({frame:0,value:0}),t.push({frame:this.frameRate,value:this.wallUpPosition}),e.setKeys(t),this.leftWallParent.animations.push(e),this.rightWallParent.animations.push(e),e.onAnimationEnd=()=>{console.log("Left wall animation finished."),this.wallRaised()},this.scene.beginAnimation(this.leftWallParent,0,this.frameRate,!1,this.wallSpeed),this.scene.beginAnimation(this.rightWallParent,0,this.frameRate,!1,this.wallSpeed)}}wallRaised(){console.log("walRaised"),this.game.wallMoveFinishSound.play(),setTimeout((()=>{console.log("  walls going down !"),this.lowerWallsWithTween()}),this.wallTime)}lowerWallsWithTween(){if(console.log("walls111 lowering walls!"),this.wallsUp){this.game.wallMoveSound.play();const e=new BABYLON.Animation("lowerAnimation","position.y",this.frameRate,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE),t=[];t.push({frame:0,value:this.wallUpPosition}),t.push({frame:this.frameRate,value:0}),e.setKeys(t),this.leftWallParent.animations.push(e),this.rightWallParent.animations.push(e),this.scene.beginDirectAnimation(this.leftWallParent,[e],0,this.frameRate,!1,this.wallSpeed),this.scene.beginDirectAnimation(this.rightWallParent,[e],0,this.frameRate,!1,this.wallSpeed),e.onAnimationEnd=()=>{this.wallsUp=!1,console.log("this.wallsUp = false;")},setTimeout((()=>{console.log("  walls going down !"),this.wallsUp=!1,this.game.wallMoveFinishSound.play()}),this.wallTime)}}}class a{constructor(e,t,o){this.scene=e,this.materialManager=t,this.game=o,this.create(),this.walls=new n(this.scene,this.game,this.materialManager)}create(){const e=BABYLON.MeshBuilder.CreateBox("mainPlatform",{width:40,height:2,depth:100},this.scene);e.position.y=-1,e.position.z=20,e.material=this.materialManager.getMaterial("collisionBoxMaterial"),e.physicsImpostor=new BABYLON.PhysicsImpostor(e,BABYLON.PhysicsImpostor.BoxImpostor,{mass:0,restitution:0,friction:.05},this.scene);const t=BABYLON.MeshBuilder.CreateBox("backSlope",{width:3,height:90,depth:70},this.scene);t.position.x=0,t.position.y=10,t.rotation.y=Math.PI/2,t.position.z=-22,t.rotation.z=-Math.PI/10;const o=BABYLON.MeshBuilder.CreateBox("rightSlope",{width:3,height:90,depth:70},this.scene);o.position.x=-20,o.position.y=10,o.position.z=-15,o.rotation.z=Math.PI/10;const i=BABYLON.MeshBuilder.CreateBox("leftSlope",{width:3,height:90,depth:70},this.scene);i.position.x=20,i.position.y=10,i.position.z=-15,i.rotation.z=-Math.PI/10;const s={mass:0,restitution:.1,friction:0};return i.physicsImpostor=new BABYLON.PhysicsImpostor(i,BABYLON.PhysicsImpostor.BoxImpostor,s,this.scene),o.physicsImpostor=new BABYLON.PhysicsImpostor(o,BABYLON.PhysicsImpostor.BoxImpostor,s,this.scene),t.physicsImpostor=new BABYLON.PhysicsImpostor(t,BABYLON.PhysicsImpostor.BoxImpostor,s,this.scene),e}}class r{constructor(e,t,o,i){this.scene=e,this.materialManager=t,this.game=o}async initializeMasterCookie(){try{const e=await BABYLON.SceneLoader.ImportMeshAsync("","assets/","chocolateChipCookie.glb",this.scene);console.log("Loaded meshes:",e.meshes);const t=e.meshes.find((e=>"yourCookieMeshId"===e.id));t&&t.geometry?(this.masterCookie=t,this.masterCookie.isVisible=!1,this.masterCookie.setEnabled(!1)):console.error("No geometry found in the imported meshes")}catch(e){console.error("Error loading master cookie mesh:",e)}}async waitForPlatformImpostor(){for(;!this.game.platformImpostor;)await new Promise((e=>setTimeout(e,100)))}async createCookie(e,t,o,i){return o||(console.warn("Waiting for platform impostor to be ready..."),await this.platformImpostor),new Promise((async e=>{await new Promise((e=>{BABYLON.SceneLoader.ImportMesh("","assets/","sugarCookie.glb",this.scene,(s=>{if(s.length>0){const n=s[0];n.name="cookie",n.initialCollision=!0,n.position=new BABYLON.Vector3(0,17.2,0),n.rotation=BABYLON.Vector3.Zero(),n.setPivotMatrix(BABYLON.Matrix.Translation(0,-n.scaling.y,0)),n.scaling=new BABYLON.Vector3(14,18,14);const a=BABYLON.MeshBuilder.CreateCylinder("cookieCylinder",{height:2,diameterTop:7.5,diameterBottom:8,tessellation:12},this.scene);a.position=t,a.physicsImpostor=new BABYLON.PhysicsImpostor(a,BABYLON.PhysicsImpostor.CylinderImpostor,{mass:1,restitution:.5,friction:.05},this.scene),a.physicsImpostor.registerOnPhysicsCollide(o,((e,t)=>{n.initialCollision&&(this.game.thudSound.play(),n.initialCollision=!1)})),a.physicsImpostor.registerOnPhysicsCollide(i,((e,t)=>{n.initialCollision&&(this.game.thudSound.play(),n.initialCollision=!1)})),n.parent=a,a.isVisible=!1,e(n)}}))})),e()}))}createDonut(){BABYLON.SceneLoader.ImportMesh("","assets/","pinkDonut.glb",this.scene,(e=>{if(e.length>0){const t=e[0];t.name="donut",t.position=new BABYLON.Vector3(0,9,0),t.rotation=BABYLON.Vector3.Zero(),t.setPivotMatrix(BABYLON.Matrix.Translation(0,-t.scaling.y,0)),t.scaling=new BABYLON.Vector3(10,10,10);const o=BABYLON.MeshBuilder.CreateCylinder("donutCylinder",{height:6,diameterTop:1.6*t.scaling.x,diameterBottom:1.7*t.scaling.x,tessellation:12},this.scene);o.position=new BABYLON.Vector3(0,40,0),t.parent=o,o.physicsImpostor=new BABYLON.PhysicsImpostor(o,BABYLON.PhysicsImpostor.CylinderImpostor,{mass:3,restitution:.1,friction:.1},this.scene),o.isVisible=!1}}))}createCupcake(){BABYLON.SceneLoader.ImportMesh("","assets/","cupcake.glb",this.scene,(e=>{if(e.length>0){const t=e[0];t.name="cupcake",t.position=new BABYLON.Vector3(0,13,0),t.rotation=BABYLON.Vector3.Zero(),t.setPivotMatrix(BABYLON.Matrix.Translation(0,-t.scaling.y,0)),t.scaling=new BABYLON.Vector3(10,10,10);const o=BABYLON.MeshBuilder.CreateCylinder("cupcakeCylinder",{height:10,diameterTop:1.3*t.scaling.x,diameterBottom:.8*t.scaling.x,tessellation:12},this.scene);o.position=new BABYLON.Vector3(0,40,0),t.parent=o,o.physicsImpostor=new BABYLON.PhysicsImpostor(o,BABYLON.PhysicsImpostor.CylinderImpostor,{mass:2,restitution:.1,friction:.05},this.scene),o.isVisible=!1}}))}createChocolateBar(){BABYLON.SceneLoader.ImportMesh("","assets/","chocolateBar.glb",this.scene,(e=>{if(e.length>0){const t=e[0];t.name="chocolateBar",t.position=new BABYLON.Vector3(0,9,0),t.rotation=BABYLON.Vector3.Zero(),t.setPivotMatrix(BABYLON.Matrix.Translation(0,-t.scaling.y,0)),t.scaling=new BABYLON.Vector3(10,10,10);const o=BABYLON.MeshBuilder.CreateBox("chocolateBarBox",{height:1.5,width:17,depth:7},this.scene);o.position=new BABYLON.Vector3(0,40,0),t.parent=o,o.physicsImpostor=new BABYLON.PhysicsImpostor(o,BABYLON.PhysicsImpostor.BoxImpostor,{mass:2.4,restitution:.05,friction:.07},this.scene),o.isVisible=!1}}))}createPie(){BABYLON.SceneLoader.ImportMesh("","assets/","pie.glb",this.scene,(e=>{if(e.length>0){const t=e[0];t.name="pie",t.position=new BABYLON.Vector3(0,9,0),t.rotation=BABYLON.Vector3.Zero(),t.setPivotMatrix(BABYLON.Matrix.Translation(0,-t.scaling.y,0)),t.scaling=new BABYLON.Vector3(10,10,10);const o=this.createPieCollisionBox();o.position=new BABYLON.Vector3(0,40,0),t.parent=o,o.physicsImpostor=new BABYLON.PhysicsImpostor(o,BABYLON.PhysicsImpostor.BoxImpostor,{mass:2.4,restitution:.05,friction:.07},this.scene),t.isCounted=!1}}))}createPieCollisionBox(){const e=BABYLON.MeshBuilder.CreateBox("box1",{height:1.5,width:10,depth:10},this.scene);e.position=new BABYLON.Vector3(0,0,0);const t=BABYLON.MeshBuilder.CreateBox("box2",{height:1.5,width:10,depth:10},this.scene);t.position=new BABYLON.Vector3(5,0,0),t.rotation.y=Math.PI/3;const o=BABYLON.MeshBuilder.CreateBox("box3",{height:1.5,width:10,depth:10},this.scene);o.position=new BABYLON.Vector3(-5,0,0),o.rotation.y=-Math.PI/3;const i=BABYLON.Mesh.MergeMeshes([e,t,o],!0,!0,void 0,!1,!0);return i.name="pieBox",console.log("pieCollisionBox!",i.name),i.position=new BABYLON.Vector3(0,9,0),i.physicsImpostor=new BABYLON.PhysicsImpostor(i,BABYLON.PhysicsImpostor.BoxImpostor,{mass:2.4,restitution:.05,friction:.07},this.scene),i}createCola(){BABYLON.SceneLoader.ImportMesh("","assets/","cola.glb",this.scene,(e=>{if(e.length>0){const t=e[0];t.name="cola",t.position=new BABYLON.Vector3(0,26,0),t.rotation=BABYLON.Vector3.Zero(),t.setPivotMatrix(BABYLON.Matrix.Translation(0,-t.scaling.y,0)),t.scaling=new BABYLON.Vector3(25,25,25);const o=BABYLON.MeshBuilder.CreateCylinder("colaCylinder",{height:39,diameterTop:.4*t.scaling.x,diameterBottom:.65*t.scaling.x,tessellation:12},this.scene);o.position=new BABYLON.Vector3(0,40,0),t.parent=o,o.physicsImpostor=new BABYLON.PhysicsImpostor(o,BABYLON.PhysicsImpostor.CylinderImpostor,{mass:2,restitution:.1,friction:.2},this.scene),o.isVisible=!0}}))}createCake(){BABYLON.SceneLoader.ImportMesh("","assets/","cake.glb",this.scene,(e=>{if(e.length>0){const t=e[0];t.name="cake",t.position=new BABYLON.Vector3(0,35,0),t.rotation=BABYLON.Vector3.Zero(),t.setPivotMatrix(BABYLON.Matrix.Translation(0,-t.scaling.y,0)),t.scaling=new BABYLON.Vector3(25,25,25);const o=BABYLON.MeshBuilder.CreateCylinder("cakeCylinder",{height:15,diameterTop:1*t.scaling.x,diameterBottom:1.12*t.scaling.x,tessellation:12},this.scene);o.position=new BABYLON.Vector3(0,60,0),t.parent=o,o.physicsImpostor=new BABYLON.PhysicsImpostor(o,BABYLON.PhysicsImpostor.CylinderImpostor,{mass:2,restitution:.1,friction:.05},this.scene),o.isVisible=!0}}))}}class h{constructor(e,t,o,i,s){this.scene=e,this.game=i,this.materialManager=t,this.loadedMonkeyModel=null,this.scaleFactor=2,this.platformImpostor=o,this.pusher=s,this.objects=new r(this.scene,this.materialManager,this.game)}loadMonkeyModel(){BABYLON.SceneLoader.ImportMesh("","assets/","monkey.glb",this.scene,(e=>{e.length>0&&(this.loadedMonkeyModel=e[0],this.loadedMonkeyModel.isVisible=!1,this.loadedMonkeyModel.scaling=new BABYLON.Vector3(this.scaleFactor,this.scaleFactor,this.scaleFactor))}))}dropMonkeyModel(){if(this.loadedMonkeyModel){const e=this.loadedMonkeyModel.clone("monkeyClone");e.isVisible=!0,e.position=new BABYLON.Vector3(0,40,110);const t=BABYLON.MeshBuilder.CreateBox("boundingBox",{width:2*this.scaleFactor,height:2*this.scaleFactor,depth:2*this.scaleFactor},this.scene);return t.isVisible=!1,t.position=e.position,t.physicsImpostor=new BABYLON.PhysicsImpostor(t,BABYLON.PhysicsImpostor.BoxImpostor,{mass:1,restitution:.1},this.scene),t.addChild(e),t}}dropCookie(e,t){const o=this.objects.createCookie(e,t,this.platformImpostor,this.pusher);if(!this.droppingCookies)return this.droppingCookies=!0,o.then((e=>{this.droppingCookies=!1})).catch((e=>{console.error(e),this.droppingCookies=!1})),o}dropDonut(){if(this.game.donutCount>0)return this.game.donutCount-=1,this.game.uiManager.updateDonutCounter(),this.objects.createDonut()}dropCupcake(){if(this.game.cupcakeCount>0)return this.game.cupcakeCount-=1,this.game.uiManager.updateCupcakeCounter(),this.objects.createCupcake()}dropChocolateBar(){if(this.game.chocolateCount>0)return this.game.chocolateCount-=1,this.game.uiManager.updateChocolateCounter(),this.objects.createChocolateBar()}dropPie(){if(this.game.pieCount>0)return this.game.pieCount-=1,this.game.uiManager.updatePieCounter(),this.objects.createPie()}dropCola(){if(this.game.colaCount>0)return this.game.colaCount-=1,this.game.uiManager.updateColaCounter(),this.objects.createCola()}dropCake(){if(this.game.cakeCount>0)return this.game.cakeCount-=1,this.game.uiManager.updateCakeCounter(),this.objects.createCake()}}class l{constructor(e,t,o,i){this.scene=e,this.materialManager=t,this.dropManager=o,this.game=i,this.maxDrops=6,this.availableDrops=this.maxDrops,this.dropCooldown=1e3,this.cooldownTimer=null,this.coinPipeSpeed=.25,this.coinPipeLimit=20,this.coinPipeDirection=1,this.createCoinPipe(),this.game.uiManager.updateDropCounter(this.availableDrops),this.game.uiManager.updateCookieCounter(this.cookieCount)}createCoinPipe(){this.coinPipe=BABYLON.MeshBuilder.CreateCylinder("coinPipe",{height:30,diameter:10},this.scene),this.coinPipe.position=new BABYLON.Vector3(0,50,0),this.coinPipe.material=this.materialManager.getMaterial("someMaterial")}updateCoinPipe(){this.coinPipe.position.x+=this.coinPipeSpeed*this.coinPipeDirection,(this.coinPipe.position.x>this.coinPipeLimit||this.coinPipe.position.x<-this.coinPipeLimit)&&(this.coinPipeDirection*=-1)}dropCoinFromPipe(){if(this.availableDrops>0&&this.game.cookieCount>0){var e=new BABYLON.Vector3(this.coinPipe.position.x,this.coinPipe.position.y-16,this.coinPipe.position.z);this.dropManager.dropCookie(!0,e),this.game.poofSound.play(),this.consumeDrop(),this.game.cookieCount-=1,this.game.uiManager.updateCookieCounter(this.game.cookieCount)}}consumeDrop(){this.availableDrops-=1,this.game.uiManager.updateDropCounter(this.availableDrops),clearTimeout(this.cooldownTimer),this.cooldownTimer=setTimeout((()=>{this.incrementDrop()}),this.dropCooldown)}incrementDrop(){this.availableDrops<this.maxDrops&&(this.availableDrops+=1,this.game.uiManager.updateDropCounter(this.availableDrops),this.cooldownTimer=setTimeout((()=>{this.incrementDrop()}),500))}resetDrops(){this.availableDrops=this.maxDrops,this.game.uiManager.updateDropCounter(this.availableDrops)}}class c{constructor(e,t){this.scene=e,this.game=t,this.level=1}levelSystem(e){for(let t=0;t<2;t++){const t=1,o=3,i=7.8,s=-o/2*i+3.5,n=22,a=40,r=[],h=(l,c)=>{const u=s+c*i,p=n+l*i,d=new BABYLON.Vector3(u,a,p),m=this.game.dropManager.dropCookie(!1,d);if(m&&(m.rotation=BABYLON.Vector3.Zero(),r.push(m)),l<t-1||c<o-1)c<o-1?h(l,c+1):h(l+1,0);else{const t=5,o=5,i=8.8,s=-o/2*i+3.5,n=32,h=(l,c)=>{const u=s+c*i,p=n+l*i,d=new BABYLON.Vector3(u,a,p),m=this.game.dropManager.dropCookie(!1,d);m&&(m.rotation=BABYLON.Vector3.Zero(),r.push(m)),l<t-1||c<o-1?c<o-1?h(l,c+1):h(l+1,0):e(r)};h(0,0)}};h(0,0)}}}class u{constructor(e){this.game=e,this.sugarCounterElement=document.createElement("div"),this.sugarCounterElement.id="sugarCounter",document.body.appendChild(this.sugarCounterElement),this.scoreCounterElement=document.createElement("div"),this.scoreCounterElement.id="scoreCounter",document.body.appendChild(this.scoreCounterElement),this.dropCounterElement=document.createElement("div"),this.dropCounterElement.id="dropCounter",document.body.appendChild(this.dropCounterElement),this.cookieCounterElement=document.createElement("div"),this.cookieCounterElement.id="cookieCounter",document.body.appendChild(this.cookieCounterElement),this.cupcakeCounterElement=document.createElement("div"),this.cupcakeCounterElement.id="cupcakeCounter",document.body.appendChild(this.cupcakeCounterElement),this.donutCounterElement=document.createElement("div"),this.donutCounterElement.id="donutCounter",document.body.appendChild(this.donutCounterElement),this.chocolateCounterElement=document.createElement("div"),this.chocolateCounterElement.id="chocolateCounter",document.body.appendChild(this.chocolateCounterElement),this.pieCounterElement=document.createElement("div"),this.pieCounterElement.id="pieCounter",document.body.appendChild(this.pieCounterElement),this.colaCounterElement=document.createElement("div"),this.colaCounterElement.id="colaCounter",document.body.appendChild(this.colaCounterElement),this.cakeCounterElement=document.createElement("div"),this.cakeCounterElement.id="cakeCounter",document.body.appendChild(this.cakeCounterElement),this.updateScore(),this.updateSugarCounter(),this.updateDropCounter(6),this.updateCookieCounter(this.game.cookieCount),this.updateCupcakeCounter(this.game.cupcakeCount),this.updateDonutCounter(this.game.donutCount),this.updateChocolateCounter(this.game.chocolateCount),this.updatePieCounter(this.game.pieCount),this.updateColaCounter(this.game.colaCount),this.updateCakeCounter(this.game.cakeCount)}updateSugarCounter(){this.sugarCounterElement.textContent=`Sugar: ${this.game.sugar}`}updateScore(){this.scoreCounterElement.textContent=`Score: ${this.game.score}`}updateDropCounter(e){this.dropCounterElement.textContent=`Drops: ${e}/6`}updateCookieCounter(){this.cookieCounterElement.textContent=`${this.game.cookieCount}`}updateCupcakeCounter(){this.cupcakeCounterElement.textContent=`${this.game.cupcakeCount}`}updateDonutCounter(){this.donutCounterElement.textContent=`${this.game.donutCount}`}updateChocolateCounter(){this.chocolateCounterElement.textContent=`${this.game.chocolateCount}`}updatePieCounter(){this.pieCounterElement.textContent=`${this.game.pieCount}`}updateColaCounter(){this.colaCounterElement.textContent=`${this.game.colaCount}`}updateCakeCounter(){this.cakeCounterElement.textContent=`${this.game.cakeCount}`}}class p{constructor(e){this.game=e,this.initSound()}initSound(){this.game.wallMoveSound=new BABYLON.Sound("wallMove","../assets/sound/wallMove.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.wallMoveFinishSound=new BABYLON.Sound("wallMoveFinish","../assets/sound/wallMoveFinish.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.clickSound=new BABYLON.Sound("click","../assets/sound/click.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.thudSound=new BABYLON.Sound("thud","../assets//sound/thud.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.getSound=new BABYLON.Sound("get","../assets/sound/get.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.getTreatSound=new BABYLON.Sound("get","../assets/sound/getTreat.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.dropTreatSound=new BABYLON.Sound("get","../assets/sound/dropTreat.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.dropTreat2Sound=new BABYLON.Sound("get","../assets/sound/dropTreat2.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.poofSound=new BABYLON.Sound("get","../assets/sound/poof.mp3",this.scene,{autoplay:!1,volume:.5,loop:!1}),this.game.get1Sound=new BABYLON.Sound("get1","../assets/sound/get1.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.get2Sound=new BABYLON.Sound("get2","../assets/sound/get2.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.get3Sound=new BABYLON.Sound("get3","../assets/sound/get3.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.get4Sound=new BABYLON.Sound("get4","../assets/sound/get4.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.get5Sound=new BABYLON.Sound("get5","../assets/sound/get5.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.get6Sound=new BABYLON.Sound("get6","../assets/sound/get6.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.get7Sound=new BABYLON.Sound("get7","../assets/sound/get7.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.get8Sound=new BABYLON.Sound("get8","../assets/sound/get8.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.get9Sound=new BABYLON.Sound("get9","../assets/sound/get9.mp3",this.scene,{autoplay:!1,volume:1,loop:!1}),this.game.get10Sound=new BABYLON.Sound("get10","../assets/sound/get10.mp3",this.scene,{autoplay:!1,volume:1,loop:!1})}}class d{constructor(e){this.game=e,this.init(),this.clicks=0,this.clicksToMakeCookie=8}init(){}makeCookie(){this.clicks++,this.clicks>=this.clicksToMakeCookie&&(this.game.cookieCount++,this.clicks=0,this.game.uiManager.updateCookieCounter()),console.log("CLICK!")}}new class{constructor(o){this.debugMode=!0;const i=document.getElementById("startButton");i&&i.addEventListener("click",(()=>{this.startGame()})),window.addEventListener("click",(()=>{this.thudSound.play(),this.thudSound.pause()}),{once:!0}),window.addEventListener("keydown",(e=>this.onKeyDown(e))),this.canvas=document.getElementById(o),this.engine=new BABYLON.Engine(this.canvas,!0,{antialias:!0,allowSleep:!0,sleepTimeLimit:2}),this.cookieCount=50,this.cupcakeCount=10,this.donutCount=10,this.chocolateCount=10,this.pieCount=10,this.colaCount=10,this.cakeCount=10,this.score=0,this.sugar=0,this.wallTokens=100,this.wallsUp=!1,this.wallsDown=!1,this.sceneManager=new e(this.engine,this.canvas),this.scene=this.sceneManager.getScene(),this.uiManager=new u(this),this.cookieMaker=new d(this),this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.jingle2=[261.63,293.66,329.63,349.23,392,440,493.88,523.25],this.soundManager=new p(this),this.materialManager=new t(this.scene),this.gameObjectManager=new s(this.scene,this.materialManager,this),this.platform=new a(this.scene,this.materialManager,this);const n=this.platform.create().physicsImpostor,r=this.gameObjectManager.createPusher().physicsImpostor;this.gameObjectManager.createGoalPlane(),this.gameObjectManager.createCapturePlane(),this.gameObjectManager.loadPlatformModel(),this.dropManager=new h(this.scene,this.materialManager,n,this,r),this.coinPipeManager=new l(this.scene,this.materialManager,this.dropManager,this),this._startGameLoop(),this._setupButtons(),new c(this.scene,this).levelSystem((e=>{}))}doAThing(){console.log("did a thing")}onKeyDown(e){console.log("onKeyDown onKeyDown"),"q"===e.key&&(this.thudSound.play(),this.getSound.play())}_startGameLoop(){this.engine.runRenderLoop((()=>{this.coinPipeManager.updateCoinPipe(),this.scene.render()}))}_setupButtons(){const e=document.getElementById("dropCookieButton");e&&e.addEventListener("click",(()=>{this.coinPipeManager.dropCoinFromPipe(!0)}));const t=document.getElementById("makeCookieButton");t&&t.addEventListener("click",(()=>{this.cookieMaker.makeCookie(),this.clickSound.play()}));const o=document.getElementById("dropDonutButton");o&&o.addEventListener("click",(()=>{this.dropManager.dropDonut()}));const i=document.getElementById("dropCupcakeButton");i&&i.addEventListener("click",(()=>{this.dropManager.dropCupcake()}));const s=document.getElementById("dropChocolateBarButton");s&&s.addEventListener("click",(()=>{this.dropManager.dropChocolateBar()}));const n=document.getElementById("dropPieButton");n&&n.addEventListener("click",(()=>{this.dropManager.dropPie()}));const a=document.getElementById("dropColaButton");a&&a.addEventListener("click",(()=>{this.dropManager.dropCola()}));const r=document.getElementById("dropCakeButton");r&&r.addEventListener("click",(()=>{this.dropManager.dropCake()}));const h=document.getElementById("wallButton");h&&h.addEventListener("click",(()=>{this.platform.walls.wallsUp||(this.wallMoveSound.play(),this.platform.walls.raiseWallsWithTween(),setTimeout((()=>{this.platform.walls.wallRaised()}),this.platform.walls.wallTime))}));const l=document.getElementById("bigPushButton");l&&l.addEventListener("click",(()=>{this.gameObjectManager.pusher.bigPush()}));const c=document.getElementById("toggleCameraLockButton");c&&c.addEventListener("click",(()=>{this.sceneManager.cameraLock()}))}}("renderCanvas")}},e=>{e(e.s=897)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d2VicGFjazovL2NhbmR5LXB1c2hlci8uL3NyYy9NYW5hZ2Vycy9TY2VuZU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vY2FuZHktcHVzaGVyLy4vc3JjL01hbmFnZXJzL01hdGVyaWFsTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9jYW5keS1wdXNoZXIvLi9zcmMvQ29tcG9uZW50cy9QdXNoZXIuanMiLCJ3ZWJwYWNrOi8vY2FuZHktcHVzaGVyLy4vc3JjL0NvbXBvbmVudHMvR29hbC5qcyIsIndlYnBhY2s6Ly9jYW5keS1wdXNoZXIvLi9zcmMvTWFuYWdlcnMvR2FtZU9iamVjdE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vY2FuZHktcHVzaGVyLy4vc3JjL0NvbXBvbmVudHMvV2FsbHMuanMiLCJ3ZWJwYWNrOi8vY2FuZHktcHVzaGVyLy4vc3JjL0NvbXBvbmVudHMvUGxhdGZvcm0uanMiLCJ3ZWJwYWNrOi8vY2FuZHktcHVzaGVyLy4vc3JjL0NvbXBvbmVudHMvT2JqZWN0cy5qcyIsIndlYnBhY2s6Ly9jYW5keS1wdXNoZXIvLi9zcmMvTWFuYWdlcnMvRHJvcE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vY2FuZHktcHVzaGVyLy4vc3JjL01hbmFnZXJzL0NvaW5QaXBlTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9jYW5keS1wdXNoZXIvLi9zcmMvTWFuYWdlcnMvTGV2ZWxNYW5hZ2VyLmpzIiwid2VicGFjazovL2NhbmR5LXB1c2hlci8uL3NyYy9NYW5hZ2Vycy9VSU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vY2FuZHktcHVzaGVyLy4vc3JjL01hbmFnZXJzL1NvdW5kTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9jYW5keS1wdXNoZXIvLi9zcmMvTWFuYWdlcnMvQ29va2llTWFrZXJNYW5hZ2VyLmpzIiwid2VicGFjazovL2NhbmR5LXB1c2hlci8uL3NyYy9HYW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFNjZW5lTWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIGNhbnZhcykge1xyXG4gICAgICAgIHRoaXMuZW5naW5lID0gZW5naW5lO1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBuZXcgQkFCWUxPTi5TY2VuZShlbmdpbmUpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuZW5hYmxlUGh5c2ljcyhuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIC01MCwgMCksIG5ldyBCQUJZTE9OLkNhbm5vbkpTUGx1Z2luKCkpO1xyXG4gICAgICAgIHRoaXMuX3NldHVwTGlnaHRpbmcoKTtcclxuICAgICAgICB0aGlzLl9zZXR1cENhbWVyYSgpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhTG9ja2VkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmNhbWVyYTtcclxuICAgICAgICAvLyB0aGlzLnNjZW5lLmRlYnVnTGF5ZXIuc2hvdyh7XHJcbiAgICAgICAgLy8gICAgIHNob3dQaHlzaWNzSW1wb3N0b3I6IHRydWVcclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICAvLyB0aGlzLnNjZW5lLmRlYnVnTGF5ZXIuc2hvdyh7XHJcbiAgICAgICAgLy8gICAgIGVtYmVkTW9kZTogdHJ1ZSxcclxuICAgICAgICAvLyAgICAgb3ZlcmxheTogdHJ1ZSxcclxuICAgICAgICAvLyAgICAgcGh5c2ljc0ltcG9zdG9yOiB0cnVlXHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICB9XHJcbiAgICBjYW1lcmFMb2NrKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjYW1lcmEgbG9jaycpXHJcbiAgICAgICAgaWYgKHRoaXMuY2FtZXJhTG9ja2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhTG9ja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLmF0dGFjaENvbnRyb2wodGhpcy5jYW52YXMsIHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhTG9ja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEuZGV0YWNoQ29udHJvbCh0aGlzLmNhbnZhcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3NldHVwTGlnaHRpbmcoKSB7XHJcbiAgICAgICAgdmFyIGxpZ2h0ID0gbmV3IEJBQllMT04uSGVtaXNwaGVyaWNMaWdodChcImxpZ2h0XCIsIG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgLjksIDApLCB0aGlzLnNjZW5lKTtcclxuICAgICAgICBsaWdodC5pbnRlbnNpdHkgPSAwLjg1O1xyXG4gICAgfVxyXG4gICAgX3NldHVwQ2FtZXJhKCkge1xyXG4gICAgICAgIHZhciBjYW1lcmEgPSBuZXcgQkFCWUxPTi5BcmNSb3RhdGVDYW1lcmEoXHJcbiAgICAgICAgICAgIFwiY2FtZXJhMVwiLCBNYXRoLlBJIC8gMiwgTWF0aC5QSSAvIDIuOCwgMjAwLFxyXG4gICAgICAgICAgICBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApLCB0aGlzLnNjZW5lXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjYW1lcmEudGFyZ2V0LnkgPSAtMjI7XHJcbiAgICAgICAgY2FtZXJhLmZvdiA9IC43O1xyXG4gICAgICAgIGNhbWVyYS5hc3BlY3RSYXRpbyA9IHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5jYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgIC8vICBjYW1lcmEuYXR0YWNoQ29udHJvbCh0aGlzLmNhbnZhcywgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XHJcbiAgICB9XHJcbiAgICBnZXRTY2VuZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBTY2VuZU1hbmFnZXIgfTtcclxuIiwiY2xhc3MgTWF0ZXJpYWxNYW5hZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMud2FsbE1hdGVyaWFsID0gbnVsbDtcclxuICAgICAgICB0aGlzLnB1c2hlck1hdGVyaWFsID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvaW5NYXRlcmlhbHMgPSB7fTtcclxuICAgICAgICB0aGlzLm9iamVjdE1hdGVyaWFscyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZU1hdGVyaWFscygpO1xyXG4gICAgfVxyXG5cclxuICAgIF9jcmVhdGVNYXRlcmlhbHMoKSB7XHJcbiAgICAgICAgLy8gQ29sbGlzaW9uQm94TWF0ZXJpYWwgXHJcbiAgICAgICAgdGhpcy5jb2xsaXNpb25Cb3hNYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJjb2xsaXNpb25Cb3hNYXRlcmlhbFwiLCB0aGlzLnNjZW5lKTtcclxuICAgICAgICB0aGlzLmNvbGxpc2lvbkJveE1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yMygwLjE5NiwgMC43ODQsIDAuMTk2KTtcclxuICAgICAgICAvLyBXYWxsIE1hdGVyaWFsXHJcbiAgICAgICAgdGhpcy53YWxsTWF0ZXJpYWwgPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKFwid2FsbE1hdGVyaWFsXCIsIHRoaXMuc2NlbmUpO1xyXG4gICAgICAgIHRoaXMud2FsbE1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yMygwLCAwLjMxLCAwLjMxKTtcclxuICAgICAgICAvLyBXYWxsIE1hdGVyaWFsXHJcbiAgICAgICAgdGhpcy5wdXNoZXJNYXRlcmlhbCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJwdXNoZXJNYXRlcmlhbFwiLCB0aGlzLnNjZW5lKTtcclxuICAgICAgICB0aGlzLnB1c2hlck1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yMygyLCAwLjMxLCAwLjMxKTtcclxuICAgICAgICAvLyBDb2luIE1hdGVyaWFsc1xyXG4gICAgICAgIC8vIEdvbGQgTWF0ZXJpYWxcclxuICAgICAgICB0aGlzLmNvaW5NYXRlcmlhbHNbJ2dvbGQnXSA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJjb2luR29sZE1hdFwiLCB0aGlzLnNjZW5lKTtcclxuICAgICAgICB0aGlzLmNvaW5NYXRlcmlhbHNbJ2dvbGQnXS5kaWZmdXNlQ29sb3IgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMSwgMC44NDMsIDApOyAvLyBHb2xkIGNvbG9yXHJcblxyXG4gICAgICAgIC8vIFJlZCBNYXRlcmlhbFxyXG4gICAgICAgIHRoaXMuY29pbk1hdGVyaWFsc1sncmVkJ10gPSBuZXcgQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsKFwiY29pblJlZE1hdFwiLCB0aGlzLnNjZW5lKTtcclxuICAgICAgICB0aGlzLmNvaW5NYXRlcmlhbHNbJ3JlZCddLmRpZmZ1c2VDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yMygxLCAwLCAwKTsgLy8gUmVkIGNvbG9yXHJcblxyXG4gICAgICAgIC8vIEJsdWUgTWF0ZXJpYWxcclxuICAgICAgICB0aGlzLmNvaW5NYXRlcmlhbHNbJ2JsdWUnXSA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJjb2luQmx1ZU1hdFwiLCB0aGlzLnNjZW5lKTtcclxuICAgICAgICB0aGlzLmNvaW5NYXRlcmlhbHNbJ2JsdWUnXS5kaWZmdXNlQ29sb3IgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMCwgMCwgMSk7IC8vIEJsdWUgY29sb3JcclxuXHJcbiAgICAgICAgLy8gRG9udXQgTWF0ZXJpYWxcclxuICAgICAgICB0aGlzLm9iamVjdE1hdGVyaWFsc1snZG9udXQnXSA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJkb251dFwiLCB0aGlzLnNjZW5lKTtcclxuICAgICAgICB0aGlzLm9iamVjdE1hdGVyaWFsc1snZG9udXQnXS5kaWZmdXNlQ29sb3IgPSBuZXcgQkFCWUxPTi5Db2xvcjMoMSwgMC41LCAwLjUpO1xyXG4gICAgfVxyXG4gICAgZ2V0TWF0ZXJpYWwobmFtZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvaW5NYXRlcmlhbHNbbmFtZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29pbk1hdGVyaWFsc1tuYW1lXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMub2JqZWN0TWF0ZXJpYWxzW25hbWVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9iamVjdE1hdGVyaWFsc1tuYW1lXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5hbWUgPT09ICd3YWxsTWF0ZXJpYWwnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndhbGxNYXRlcmlhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5hbWUgPT09ICdwdXNoZXJNYXRlcmlhbCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaGVyTWF0ZXJpYWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuYW1lID09PSAnY29sbGlzaW9uQm94TWF0ZXJpYWwnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbGxpc2lvbkJveE1hdGVyaWFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDsgLy8gT3IgYSBkZWZhdWx0IG1hdGVyaWFsXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IE1hdGVyaWFsTWFuYWdlciB9O1xyXG4iLCIvLyBQdXNoZXIuanNcclxuZXhwb3J0IGNsYXNzIFB1c2hlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgbWF0ZXJpYWxNYW5hZ2VyLCBnYW1lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMubWF0ZXJpYWxNYW5hZ2VyID0gbWF0ZXJpYWxNYW5hZ2VyO1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcbiAgICAgICAgdGhpcy5wdXNoZXJTcGVlZCA9IC41O1xyXG4gICAgICAgIHRoaXMucHVzaGVyRGlyZWN0aW9uID0gMTtcclxuICAgICAgICB0aGlzLnB1c2hlckxpbWl0RnJvbnQgPSAyMDtcclxuICAgICAgICB0aGlzLnB1c2hlckxpbWl0QmFjayA9IC0xNTtcclxuICAgICAgICB0aGlzLmZyYW1lUmF0ZSA9IDYwO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlUHVzaGVyKCk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVQdXNoZXIoKSB7XHJcbiAgICAgICAgY29uc3QgcHVzaGVyU2l6ZSA9IHsgd2lkdGg6IDQwLCBoZWlnaHQ6IDEwLCBkZXB0aDogNTAgfTtcclxuICAgICAgICBjb25zdCBwdXNoZXIgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveChcInB1c2hlclwiLCBwdXNoZXJTaXplLCB0aGlzLnNjZW5lKTtcclxuICAgICAgICBwdXNoZXIucG9zaXRpb24ueSA9IDE7XHJcbiAgICAgICAgcHVzaGVyLnBvc2l0aW9uLnogPSAtMjU7XHJcbiAgICAgICAgcHVzaGVyLm1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbE1hbmFnZXIuZ2V0TWF0ZXJpYWwoXCJwdXNoZXJNYXRlcmlhbFwiKTtcclxuICAgICAgICBwdXNoZXIucGh5c2ljc0ltcG9zdG9yID0gbmV3IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yKFxyXG4gICAgICAgICAgICBwdXNoZXIsXHJcbiAgICAgICAgICAgIEJBQllMT04uUGh5c2ljc0ltcG9zdG9yLkJveEltcG9zdG9yLFxyXG4gICAgICAgICAgICB7IG1hc3M6IDAsIHJlc3RpdHV0aW9uOiAwLCBmcmljdGlvbjogMX0sXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmVcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLnB1c2hlciA9IHB1c2hlcjtcclxuICAgICAgICB0aGlzLnB1c2hlclBhcmVudCA9IG5ldyBCQUJZTE9OLk1lc2goXCJwdXNoZXJQYXJlbnRcIiwgdGhpcy5zY2VuZSk7XHJcbiAgICAgICAgdGhpcy5wdXNoZXJQYXJlbnQuYWRkQ2hpbGQodGhpcy5wdXNoZXIpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlUHVzaGVyKCk7XHJcbiAgICAgICAgcmV0dXJuIFB1c2hlcjtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVQdXNoZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHVzaGVyKSB7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lUmF0ZSA9IDEwO1xyXG4gICAgICAgICAgICBjb25zdCB6U2xpZGUgPSBuZXcgQkFCWUxPTi5BbmltYXRpb24oXCJ6U2xpZGVcIiwgXCJwb3NpdGlvbi56XCIsIGZyYW1lUmF0ZSwgQkFCWUxPTi5BbmltYXRpb24uQU5JTUFUSU9OVFlQRV9GTE9BVCwgQkFCWUxPTi5BbmltYXRpb24uQU5JTUFUSU9OTE9PUE1PREVfQ1lDTEUpO1xyXG4gICAgICAgICAgICBjb25zdCBrZXlGcmFtZXMxID0gW107XHJcbiAgICAgICAgICAgIGtleUZyYW1lczEucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBmcmFtZTogMCxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnB1c2hlckxpbWl0RnJvbnRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGtleUZyYW1lczEucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBmcmFtZTogZnJhbWVSYXRlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMucHVzaGVyTGltaXRCYWNrXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBrZXlGcmFtZXMxLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgZnJhbWU6IDIgKiBmcmFtZVJhdGUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5wdXNoZXJMaW1pdEZyb250XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB6U2xpZGUuc2V0S2V5cyhrZXlGcmFtZXMxKTtcclxuICAgICAgICAgICAgdGhpcy5wdXNoZXJQYXJlbnQuYW5pbWF0aW9ucy5wdXNoKHpTbGlkZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuYmVnaW5BbmltYXRpb24odGhpcy5wdXNoZXJQYXJlbnQsIDAsIDIgKiBmcmFtZVJhdGUsIHRydWUsdGhpcy5wdXNoZXJTcGVlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYmlnUHVzaCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnICBiaWdQdXNoICEnKTtcclxuICAgICAgICB0aGlzLnB1c2hlckRpcmVjdGlvbiA9IDE7XHJcbiAgICAgICAgdGhpcy5wdXNoZXJTcGVlZCA9IDEwO1xyXG4gICAgICAgIHRoaXMucHVzaGVyTGltaXRGcm9udCA9IDE1O1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnB1c2hlclNwZWVkID0gMC4yNTtcclxuICAgICAgICAgICAgdGhpcy5wdXNoZXJMaW1pdEZyb250ID0gLTU7XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgfVxyXG59IiwiLy8gR29hbC5qc1xyXG5jbGFzcyBHb2FsIHtcclxuICAgIGNvbnN0cnVjdG9yKGdhbWUpIHtcclxuICAgICAgICB0aGlzLmdhbWUgPSBnYW1lO1xyXG4gICAgICAgIC8vQm9udXNcclxuICAgICAgICB0aGlzLmJvbnVzV2luZG93QWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ib251c1dpbmRvd1RpbWVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmJvbnVzQ291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuZ2V0VHJlYXQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuXHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG4gICAgfVxyXG4gICAgY2hlY2tHb2FsKGNvbGxpZGVkT2JqZWN0KSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVCb251c1dpbmRvdygpO1xyXG4gICAgICAgIHZhciBvYmpOYW1lID0gY29sbGlkZWRPYmplY3QubmFtZTtcclxuICAgICAgICBpZiAoIWNvbGxpZGVkT2JqZWN0LmlzQ291bnRlZCkge1xyXG4gICAgICAgICAgICBpZiAob2JqTmFtZSA9PT0gXCJjb29raWVDeWxpbmRlclwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUuc2NvcmUrKztcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9udXNDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lLmNvb2tpZUNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUudWlNYW5hZ2VyLnVwZGF0ZUNvb2tpZUNvdW50ZXIoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChvYmpOYW1lID09PSBcImN1cGNha2VDeWxpbmRlclwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUuY3VwY2FrZUNvdW50ICs9IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFRyZWF0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5zY29yZSArPSAyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib251c0NvdW50ICs9IDI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUudWlNYW5hZ2VyLnVwZGF0ZUN1cGNha2VDb3VudGVyKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqTmFtZSA9PT0gXCJkb251dEN5bGluZGVyXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5kb251dENvdW50ICs9IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldFRyZWF0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5zY29yZSArPSA0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib251c0NvdW50ICs9IDQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUudWlNYW5hZ2VyLnVwZGF0ZURvbnV0Q291bnRlcigpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9iak5hbWUgPT09IFwiY2hvY29sYXRlQmFyQm94XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5jaG9jb2xhdGVDb3VudCArPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRUcmVhdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUuc2NvcmUgKz0gODtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9udXNDb3VudCArPSA4O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lLnVpTWFuYWdlci51cGRhdGVDaG9jb2xhdGVDb3VudGVyKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqTmFtZSA9PT0gXCJwaWVCb3hcIikge1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5waWVDb3VudCArPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRUcmVhdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUuc2NvcmUgKz0gMTY7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvbnVzQ291bnQgKz0gMTY7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUudWlNYW5hZ2VyLnVwZGF0ZVBpZUNvdW50ZXIoKTtcclxuICAgICAgICAgICAgICAgIGNvbGxpZGVkT2JqZWN0LmlzQ291bnRlZCA9IHRydWU7IC8vIE1hcmsgdGhlIHBpZSBhcyBjb3VudGVkXHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJnb2FsUGxhbmUgPz8/Pz9zIFwiLCBvYmpOYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5ib251c0NvdW50ID09PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5nZXQxU291bmQucGxheSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib251c0NvdW50ID09PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5nZXQyU291bmQucGxheSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib251c0NvdW50ID09PSAzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5nZXQzU291bmQucGxheSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib251c0NvdW50ID09PSA0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5nZXQ0U291bmQucGxheSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib251c0NvdW50ID09PSA1KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5nZXQ1U291bmQucGxheSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib251c0NvdW50ID09PSA2KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5nZXQ2U291bmQucGxheSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib251c0NvdW50ID09PSA3KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5nZXQ3U291bmQucGxheSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib251c0NvdW50ID09PSA4KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5nZXQ4U291bmQucGxheSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib251c0NvdW50ID09PSA5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5nZXQ5U291bmQucGxheSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib251c0NvdW50ID09PSAxMCkge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuZ2V0MTBTb3VuZC5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmdldFRyZWF0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VHJlYXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLmdldFRyZWF0U291bmQucGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb2xsaWRlZE9iamVjdC5kaXNwb3NlKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lLnVpTWFuYWdlci51cGRhdGVTY29yZSgpO1xyXG4gICAgICAgIC8vICBjb25zb2xlLmxvZyhcIlNDT1JFIFwiLCB0aGlzLmdhbWUuc2NvcmUpO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlQm9udXNXaW5kb3coKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImhhbmRsZUJvbnVzV2luZG93XCIpO1xyXG4gICAgICAgIGlmICghdGhpcy5ib251c1dpbmRvd0FjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmJvbnVzV2luZG93QWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5ib251c0NvdW50ID0gMDsgLy8gcmVzZXQgYm9udXMgY291bnQgZm9yIHRoZSBuZXcgd2luZG93XHJcbiAgICAgICAgICAgIHRoaXMuYm9udXNXaW5kb3dUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEJvbnVzIHZhbHVlOiAke3RoaXMuYm9udXNDb3VudH1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRHJvcFJld2FyZHMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm9udXNXaW5kb3dBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8vIHRoaXMuYm9udXNDb3VudCArPSAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vMiBjb29raWVcclxuICAgIC8vNCBjdXBjYWtlXHJcbiAgICAvLzggZG9udXRcclxuICAgIC8vMTYgY2hvY29sYXRlXHJcbiAgICAvLzMyIHBpZSBvciB3YWxsIHRva2VuXHJcbiAgICAvLzY0IGNvbGEgb3IgcHVzaCB0b2tlblxyXG4gICAgLy8xMjggY2FrZSBvciBzaGFrZSB0b2tlblxyXG4gICAgaGFuZGxlRHJvcFJld2FyZHMoKSB7XHJcbiAgICAgICAgLy8yIHRvIDMgcG9pbnRzIGdldHMgMSBjdXBjYWtlLiBcclxuICAgICAgICBpZiAodGhpcy5ib251c0NvdW50ID4gMSAmJiB0aGlzLmJvbnVzQ291bnQgPD0gMykge1xyXG4gICAgICAgICAgICB2YXIgcG9zID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCA0MCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5kcm9wTWFuYWdlci5kcm9wQ29va2llKGZhbHNlLCBwb3MpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuZHJvcFRyZWF0U291bmQucGxheSgpO1xyXG4gICAgICAgICAgICAvLzQgdG8gNSBwb2ludHMgZ2V0cyBhIGRvbnV0XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJvbnVzQ291bnQgPiAzICYmIHRoaXMuYm9udXNDb3VudCA8PSA1KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5kcm9wTWFuYWdlci5kcm9wQ3VwY2FrZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuZHJvcFRyZWF0MlNvdW5kLnBsYXkoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYm9udXNDb3VudCA+PSA2ICYmIHRoaXMuYm9udXNDb3VudCA8IDgpIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLmRyb3BNYW5hZ2VyLmRyb3BEb251dCgpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuZHJvcFRyZWF0MlNvdW5kLnBsYXkoKTtcclxuICAgICAgICAgICAgLy82IGFuZCA3IHBvaW50cyBnZXRzIDJcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYm9udXNDb3VudCA+PSA3ICYmIHRoaXMuYm9udXNDb3VudCA8IDEwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5kcm9wTWFuYWdlci5kcm9wQ3VwY2FrZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuZHJvcE1hbmFnZXIuZHJvcERvbnV0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5kcm9wVHJlYXQyU291bmQucGxheSgpO1xyXG4gICAgICAgICAgICAvLzggdG8gOSBwb2ludHMgZ2V0cyBjaG9jb2xhdGVcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYm9udXNDb3VudCA+PSAxMCAmJiB0aGlzLmJvbnVzQ291bnQgPCAxMikge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuZHJvcE1hbmFnZXIuZHJvcENob2NvbGF0ZUJhcigpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuZHJvcFRyZWF0MlNvdW5kLnBsYXkoKTtcclxuICAgICAgICAgICAgLy8xMCBnZXQgY2hjb2xhdGUgYW5kIGN1cGNha2VcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYm9udXNDb3VudCA+PSAxMiAmJiB0aGlzLmJvbnVzQ291bnQgPCAxNCkge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuZHJvcE1hbmFnZXIuZHJvcEN1cGNha2UoKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLmRyb3BNYW5hZ2VyLmRyb3BDaG9jb2xhdGVCYXIoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5kcm9wVHJlYXQyU291bmQucGxheSgpO1xyXG4gICAgICAgICAgICAvLzEyIGFuZCAxMyBnZXQgMlxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib251c0NvdW50ID49IDE0ICYmIHRoaXMuYm9udXNDb3VudCA8IDE2KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5kcm9wTWFuYWdlci5kcm9wQ2hvY29sYXRlQmFyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5kcm9wTWFuYWdlci5kcm9wRG9udXQoKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLmRyb3BUcmVhdDJTb3VuZC5wbGF5KCk7XHJcbiAgICAgICAgICAgIC8vMTQgYW5kIDE1IGdldCAyXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJvbnVzQ291bnQgPj0gMTYgJiYgdGhpcy5ib251c0NvdW50IDwgMTgpIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLmRyb3BNYW5hZ2VyLmRyb3BDaG9jb2xhdGVCYXIoKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLmRyb3BNYW5hZ2VyLmRyb3BDdXBjYWtlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5kcm9wTWFuYWdlci5kcm9wRG9udXQoKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLmRyb3BUcmVhdDJTb3VuZC5wbGF5KCk7XHJcbiAgICAgICAgICAgIC8vMTYgYW5kIDE3IGdldCBwaWVcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYm9udXNDb3VudCA+PSAxNiAmJiB0aGlzLmJvbnVzQ291bnQgPCAxOCkge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuZHJvcE1hbmFnZXIuZHJvcFBpZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuZHJvcFRyZWF0MlNvdW5kLnBsYXkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcbmV4cG9ydCB7IEdvYWwgfTtcclxuIiwiaW1wb3J0IHsgUGxhdGZvcm0gfSBmcm9tICcuLi9Db21wb25lbnRzL1BsYXRmb3JtLmpzJztcclxuaW1wb3J0IHsgUHVzaGVyIH0gZnJvbSAnLi4vQ29tcG9uZW50cy9QdXNoZXIuanMnO1xyXG5pbXBvcnQgeyBHb2FsIH0gZnJvbSAnLi4vQ29tcG9uZW50cy9Hb2FsLmpzJztcclxuY2xhc3MgR2FtZU9iamVjdE1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIG1hdGVyaWFsTWFuYWdlciwgZ2FtZSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmdhbWUgPSBnYW1lO1xyXG4gICAgICAgIHRoaXMubWF0ZXJpYWxNYW5hZ2VyID0gbWF0ZXJpYWxNYW5hZ2VyO1xyXG4gICAgICAgIHRoaXMuZ29hbCA9IG5ldyBHb2FsKGdhbWUpO1xyXG5cclxuXHJcbiAgICB9XHJcbiAgICBjcmVhdGVDYXB0dXJlUGxhbmUoKSB7XHJcbiAgICAgICAgY29uc3QgY2FwdHVyZVBsYW5lID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVHcm91bmQoXCJjYXB0dXJlUGxhbmVcIiwgeyB3aWR0aDogMjAwLCBoZWlnaHQ6IDIwMCwgZGVwdGg6IDAgfSwgdGhpcy5zY2VuZSk7XHJcbiAgICAgICAgY2FwdHVyZVBsYW5lLnBvc2l0aW9uLnkgPSAtNTU7XHJcbiAgICAgICAgY2FwdHVyZVBsYW5lLnBvc2l0aW9uLnogPSA0ODtcclxuICAgICAgICBjYXB0dXJlUGxhbmUucGh5c2ljc0ltcG9zdG9yID0gbmV3IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yKFxyXG4gICAgICAgICAgICBjYXB0dXJlUGxhbmUsXHJcbiAgICAgICAgICAgIEJBQllMT04uUGh5c2ljc0ltcG9zdG9yLkJveEltcG9zdG9yLFxyXG4gICAgICAgICAgICB7IG1hc3M6IDAsIHJlc3RpdHV0aW9uOiAwLCBraW5lbWF0aWM6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmVcclxuICAgICAgICApO1xyXG4gICAgICAgIGNhcHR1cmVQbGFuZS5waHlzaWNzSW1wb3N0b3IucmVnaXN0ZXJPblBoeXNpY3NDb2xsaWRlKHRoaXMuc2NlbmUuZ2V0UGh5c2ljc0VuZ2luZSgpLmdldEltcG9zdG9ycygpLCAobWFpbiwgY29sbGlkZWQpID0+IHtcclxuICAgICAgICAgICAgY29sbGlkZWQub2JqZWN0LmRpc3Bvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjYXB0dXJlUGxhbmUuaXNWaXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIGNhcHR1cmVQbGFuZTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVHb2FsUGxhbmUoKSB7XHJcbiAgICAgICAgY29uc3QgZ29hbFBsYW5lID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVHcm91bmQoXCJnb2FsUGxhbmVcIiwgeyB3aWR0aDogNDAsIGhlaWdodDogNTAsIGRlcHRoOiAwIH0sIHRoaXMuc2NlbmUpO1xyXG4gICAgICAgIGdvYWxQbGFuZS5wb3NpdGlvbi55ID0gLTQ1O1xyXG4gICAgICAgIGdvYWxQbGFuZS5wb3NpdGlvbi56ID0gOTA7XHJcbiAgICAgICAgZ29hbFBsYW5lLmlzVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIGdvYWxQbGFuZS5waHlzaWNzSW1wb3N0b3IgPSBuZXcgQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IoXHJcbiAgICAgICAgICAgIGdvYWxQbGFuZSxcclxuICAgICAgICAgICAgQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IuQm94SW1wb3N0b3IsXHJcbiAgICAgICAgICAgIHsgbWFzczogMCwgcmVzdGl0dXRpb246IDAsIGtpbmVtYXRpYzogZmFsc2UgfSxcclxuICAgICAgICAgICAgdGhpcy5zY2VuZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgZ29hbFBsYW5lLnBoeXNpY3NJbXBvc3Rvci5yZWdpc3Rlck9uUGh5c2ljc0NvbGxpZGUodGhpcy5zY2VuZS5nZXRQaHlzaWNzRW5naW5lKCkuZ2V0SW1wb3N0b3JzKCksIChtYWluLCBjb2xsaWRlZCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmdvYWwuY2hlY2tHb2FsKGNvbGxpZGVkLm9iamVjdCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBnb2FsUGxhbmU7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZFBsYXRmb3JtTW9kZWwoKSB7XHJcbiAgICAgICAgQkFCWUxPTi5TY2VuZUxvYWRlci5JbXBvcnRNZXNoKFwiXCIsIFwiYXNzZXRzL1wiLCBcImdhbWVQbGF0Zm9ybS5nbGJcIiwgdGhpcy5zY2VuZSwgKG1lc2hlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAobWVzaGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVQbGF0Zm9ybSA9IG1lc2hlc1swXTtcclxuICAgICAgICAgICAgICAgIGdhbWVQbGF0Zm9ybS5uYW1lID0gXCJnYW1lUGxhdGZvcm1cIjtcclxuICAgICAgICAgICAgICAgIGdhbWVQbGF0Zm9ybS5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgOSwgMCk7IC8vIFNldCBpbml0aWFsIHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICBnYW1lUGxhdGZvcm0ucm90YXRpb24gPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xyXG4gICAgICAgICAgICAgICAgLy8gU2V0IHBpdm90IHBvaW50IHRvIHRoZSBjZW50ZXIgb2YgdGhlIGRvbnV0XHJcbiAgICAgICAgICAgICAgICBnYW1lUGxhdGZvcm0uc2V0UGl2b3RNYXRyaXgoQkFCWUxPTi5NYXRyaXguVHJhbnNsYXRpb24oMCwgLWdhbWVQbGF0Zm9ybS5zY2FsaW5nLnksIDApKTtcclxuICAgICAgICAgICAgICAgIC8vICBnYW1lUGxhdGZvcm0uc2NhbGluZyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMTAsIDEwLCAxMCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVQdXNoZXIoKSB7XHJcbiAgICAgICAgdGhpcy5wdXNoZXIgPSBuZXcgUHVzaGVyKHRoaXMuc2NlbmUsIHRoaXMubWF0ZXJpYWxNYW5hZ2VyLCB0aGlzLmdhbWUpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5wdXNoZXI7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVQdXNoZXIoKSB7XHJcbiAgICAgICAgdGhpcy5wdXNoZXIudXBkYXRlUHVzaGVyKCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgeyBHYW1lT2JqZWN0TWFuYWdlciB9O1xyXG4iLCIvLyBXYWxscy5qc1xyXG5jbGFzcyBXYWxscyB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgZ2FtZSwgbWF0ZXJpYWxNYW5hZ2VyKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5tYXRlcmlhbE1hbmFnZXIgPSBtYXRlcmlhbE1hbmFnZXI7XHJcbiAgICAgICAgdGhpcy53YWxsRG93blBvc2l0aW9uID0gLTE1O1xyXG4gICAgICAgIHRoaXMud2FsbFVwUG9zaXRpb24gPSAxNTtcclxuICAgICAgICB0aGlzLndhbGxTcGVlZCA9IDAuMTg7XHJcbiAgICAgICAgdGhpcy53YWxsRGlyZWN0aW9uID0gMTtcclxuICAgICAgICB0aGlzLndhbGxUaW1lciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy53YWxsc1VwID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy53YWxsVGltZSA9IDUwMDA7XHJcbiAgICAgICAgdGhpcy53YWxsTW92aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5mcmFtZVJhdGUgPSA2MDtcclxuICAgICAgICB0aGlzLkRlc2lnbldhbGxzKCk7XHJcbiAgICB9XHJcbiAgICBEZXNpZ25XYWxscygpIHtcclxuICAgICAgICAvL1dhbGxzXHJcbiAgICAgICAgY29uc3Qgd2FsbEhlaWdodCA9IDMwO1xyXG4gICAgICAgIGNvbnN0IHdhbGxEZXB0aCA9IDIwO1xyXG4gICAgICAgIGNvbnN0IHdhbGxXaWR0aCA9IDM7XHJcbiAgICAgICAgY29uc3Qgc2xvcGVBbmdsZSA9IDEwO1xyXG4gICAgICAgIGNvbnN0IGdvYWxCYWNrYm9hcmQgPSB0aGlzLmNyZWF0ZVdhbGwoe1xyXG4gICAgICAgICAgICB3aWR0aDogd2FsbFdpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHdhbGxIZWlnaHQgKiAyLFxyXG4gICAgICAgICAgICBkZXB0aDogd2FsbERlcHRoICogMyxcclxuICAgICAgICAgICAgcG9zaXRpb246IHtcclxuICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICB5OiAtMjAsXHJcbiAgICAgICAgICAgICAgICB6OiAxMTBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcm90YXRpb246IHtcclxuICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICB5OiAzMDAsXHJcbiAgICAgICAgICAgICAgICB6OiAwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBnb2FsQmFja2JvYXJkLmlzVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IHJpZ2h0U2xhbnRXYWxsID0gdGhpcy5jcmVhdGVXYWxsKHtcclxuICAgICAgICAgICAgd2lkdGg6IHdhbGxXaWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiB3YWxsSGVpZ2h0LFxyXG4gICAgICAgICAgICBkZXB0aDogd2FsbERlcHRoLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgeDogLTI3LFxyXG4gICAgICAgICAgICAgICAgeTogLTUsXHJcbiAgICAgICAgICAgICAgICB6OiAyNVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByb3RhdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgeDogLjEsXHJcbiAgICAgICAgICAgICAgICB5OiAtTWF0aC5QSSAvIDQsXHJcbiAgICAgICAgICAgICAgICB6OiBNYXRoLlBJIC8gc2xvcGVBbmdsZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHJpZ2h0IHdhbGxcclxuICAgICAgICBjb25zdCBsZWZ0U2xhbnRXYWxsID0gdGhpcy5jcmVhdGVXYWxsKHtcclxuICAgICAgICAgICAgd2lkdGg6IHdhbGxXaWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiB3YWxsSGVpZ2h0LFxyXG4gICAgICAgICAgICBkZXB0aDogd2FsbERlcHRoLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgeDogMjcsXHJcbiAgICAgICAgICAgICAgICB5OiAtNSxcclxuICAgICAgICAgICAgICAgIHo6IDI1XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJvdGF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICB4OiAuMSxcclxuICAgICAgICAgICAgICAgIHk6IE1hdGguUEkgLyA0LFxyXG4gICAgICAgICAgICAgICAgejogLU1hdGguUEkgLyBzbG9wZUFuZ2xlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvL1dhbGwgVXAgV2FsbHNcclxuICAgICAgICB0aGlzLnJpZ2h0V2FsbCA9IHRoaXMuY3JlYXRlV2FsbCh7XHJcbiAgICAgICAgICAgIHdpZHRoOiB3YWxsV2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogd2FsbEhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgIGRlcHRoOiB3YWxsRGVwdGggKiAyLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgeDogLTIyLFxyXG4gICAgICAgICAgICAgICAgeTogdGhpcy53YWxsRG93blBvc2l0aW9uLFxyXG4gICAgICAgICAgICAgICAgejogNDdcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHJpZ2h0IHdhbGxcclxuICAgICAgICB0aGlzLmxlZnRXYWxsID0gdGhpcy5jcmVhdGVXYWxsKHtcclxuICAgICAgICAgICAgd2lkdGg6IHdhbGxXaWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiB3YWxsSGVpZ2h0IC8gMixcclxuICAgICAgICAgICAgZGVwdGg6IHdhbGxEZXB0aCAqIDIsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICB4OiAyMixcclxuICAgICAgICAgICAgICAgIHk6IHRoaXMud2FsbERvd25Qb3NpdGlvbixcclxuICAgICAgICAgICAgICAgIHo6IDQ3XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sZWZ0V2FsbC5tYXNzID0gMTtcclxuICAgICAgICB0aGlzLnJpZ2h0V2FsbC5tYXNzID0gMjtcclxuICAgICAgICB0aGlzLmxlZnRXYWxsUGFyZW50ID0gbmV3IEJBQllMT04uTWVzaChcImxlZnRXYWxsUGFyZW50XCIsIHRoaXMuc2NlbmUpO1xyXG4gICAgICAgIHRoaXMucmlnaHRXYWxsUGFyZW50ID0gbmV3IEJBQllMT04uTWVzaChcInJpZ2h0V2FsbFBhcmVudFwiLCB0aGlzLnNjZW5lKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHdhbGwgbWVzaGVzIGFzIGNoaWxkcmVuXHJcbiAgICAgICAgdGhpcy5sZWZ0V2FsbFBhcmVudC5hZGRDaGlsZCh0aGlzLmxlZnRXYWxsKTtcclxuICAgICAgICB0aGlzLnJpZ2h0V2FsbFBhcmVudC5hZGRDaGlsZCh0aGlzLnJpZ2h0V2FsbCk7XHJcbiAgICAgICAgLy9Hb2FsIFdhbGxzXHJcbiAgICAgICAgY29uc3QgcmlnaHRHb2FsV2FsbCA9IHRoaXMuY3JlYXRlV2FsbCh7XHJcbiAgICAgICAgICAgIHdpZHRoOiB3YWxsV2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogd2FsbEhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgIGRlcHRoOiB3YWxsRGVwdGggKiAyLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgeDogLTIzLFxyXG4gICAgICAgICAgICAgICAgeTogLTE1LFxyXG4gICAgICAgICAgICAgICAgejogOTBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBDcmVhdGUgcmlnaHQgd2FsbFxyXG4gICAgICAgIGNvbnN0IGxlZnRHb2FsV2FsbCA9IHRoaXMuY3JlYXRlV2FsbCh7XHJcbiAgICAgICAgICAgIHdpZHRoOiB3YWxsV2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogd2FsbEhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgIGRlcHRoOiB3YWxsRGVwdGggKiAyLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgeDogMjMsXHJcbiAgICAgICAgICAgICAgICB5OiAtMTUsXHJcbiAgICAgICAgICAgICAgICB6OiA5MFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlckdvYWxXYWxsID0gdGhpcy5jcmVhdGVXYWxsKHtcclxuICAgICAgICAgICAgd2lkdGg6IHdhbGxXaWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiB3YWxsSGVpZ2h0IC8gMixcclxuICAgICAgICAgICAgZGVwdGg6IHdhbGxEZXB0aCAqIDIsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICAgICAgeTogLTE4LFxyXG4gICAgICAgICAgICAgICAgejogNjVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcm90YXRpb246IHtcclxuICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICB5OiAzMDAsXHJcbiAgICAgICAgICAgICAgICB6OiAwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNyZWF0ZVdhbGwob3B0aW9ucykge1xyXG4gICAgICAgIGNvbnN0IHdhbGwgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveChcIndhbGxcIiwge1xyXG4gICAgICAgICAgICB3aWR0aDogb3B0aW9ucy53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBvcHRpb25zLmhlaWdodCxcclxuICAgICAgICAgICAgZGVwdGg6IG9wdGlvbnMuZGVwdGhcclxuICAgICAgICB9LCB0aGlzLnNjZW5lKTtcclxuXHJcbiAgICAgICAgd2FsbC5wb3NpdGlvbi54ID0gb3B0aW9ucy5wb3NpdGlvbi54O1xyXG4gICAgICAgIHdhbGwucG9zaXRpb24ueSA9IG9wdGlvbnMucG9zaXRpb24ueSArIG9wdGlvbnMuaGVpZ2h0IC8gMjsgLy8gQ2VudGVyIHZlcnRpY2FsbHlcclxuICAgICAgICB3YWxsLnBvc2l0aW9uLnogPSBvcHRpb25zLnBvc2l0aW9uLno7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMucm90YXRpb24pIHtcclxuICAgICAgICAgICAgd2FsbC5yb3RhdGlvbi54ID0gb3B0aW9ucy5yb3RhdGlvbi54IHx8IDA7XHJcbiAgICAgICAgICAgIHdhbGwucm90YXRpb24ueSA9IG9wdGlvbnMucm90YXRpb24ueSB8fCAwO1xyXG4gICAgICAgICAgICB3YWxsLnJvdGF0aW9uLnogPSBvcHRpb25zLnJvdGF0aW9uLnogfHwgMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2FsbC5tYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWxNYW5hZ2VyLmdldE1hdGVyaWFsKFwiY29sbGlzaW9uQm94TWF0ZXJpYWxcIik7XHJcbiAgICAgICAgd2FsbC5waHlzaWNzSW1wb3N0b3IgPSBuZXcgQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IoXHJcbiAgICAgICAgICAgIHdhbGwsXHJcbiAgICAgICAgICAgIEJBQllMT04uUGh5c2ljc0ltcG9zdG9yLkJveEltcG9zdG9yLFxyXG5cclxuICAgICAgICAgICAgeyBtYXNzOiAwLCByZXN0aXR1dGlvbjogMC4xLCBmcmljdGlvbjogMCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gd2FsbDtcclxuICAgIH1cclxuICAgIHJhaXNlV2FsbHNXaXRoVHdlZW4oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLndhbGxzVXApIHtcclxuICAgICAgICAgICAgdGhpcy53YWxsc1VwID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3dhbGxzIHVwMTEnKTtcclxuICAgICAgICAgICAgY29uc3QgcmFpc2VBbmltYXRpb24gPSBuZXcgQkFCWUxPTi5BbmltYXRpb24oXHJcbiAgICAgICAgICAgICAgICBcInJhaXNlQW5pbWF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICBcInBvc2l0aW9uLnlcIixcclxuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVSYXRlLFxyXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5BbmltYXRpb24uQU5JTUFUSU9OVFlQRV9GTE9BVCxcclxuICAgICAgICAgICAgICAgIEJBQllMT04uQW5pbWF0aW9uLkFOSU1BVElPTkxPT1BNT0RFX0NPTlNUQU5ULFxyXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5BbmltYXRpb24uRUFTSU5HTU9ERV9FQVNFSU5PVVRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY29uc3Qga2V5RnJhbWVzID0gW107XHJcbiAgICAgICAgICAgIGtleUZyYW1lcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGZyYW1lOiAwLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGtleUZyYW1lcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGZyYW1lOiB0aGlzLmZyYW1lUmF0ZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLndhbGxVcFBvc2l0aW9uXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByYWlzZUFuaW1hdGlvbi5zZXRLZXlzKGtleUZyYW1lcyk7XHJcbiAgICAgICAgICAgIHRoaXMubGVmdFdhbGxQYXJlbnQuYW5pbWF0aW9ucy5wdXNoKHJhaXNlQW5pbWF0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5yaWdodFdhbGxQYXJlbnQuYW5pbWF0aW9ucy5wdXNoKHJhaXNlQW5pbWF0aW9uKTtcclxuICAgICAgICAgICAgcmFpc2VBbmltYXRpb24ub25BbmltYXRpb25FbmQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTGVmdCB3YWxsIGFuaW1hdGlvbiBmaW5pc2hlZC4nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMud2FsbFJhaXNlZCgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgbGVmdFdhbGxVcCA9IHRoaXMuc2NlbmUuYmVnaW5BbmltYXRpb24odGhpcy5sZWZ0V2FsbFBhcmVudCwgMCwgdGhpcy5mcmFtZVJhdGUsIGZhbHNlLCB0aGlzLndhbGxTcGVlZCk7XHJcbiAgICAgICAgICAgIHZhciByaWdodFdhbGxVcCA9IHRoaXMuc2NlbmUuYmVnaW5BbmltYXRpb24odGhpcy5yaWdodFdhbGxQYXJlbnQsIDAsIHRoaXMuZnJhbWVSYXRlLCBmYWxzZSwgdGhpcy53YWxsU3BlZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB3YWxsUmFpc2VkKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCd3YWxSYWlzZWQnKTtcclxuICAgICAgICB0aGlzLmdhbWUud2FsbE1vdmVGaW5pc2hTb3VuZC5wbGF5KCk7XHJcbiAgICAgICAgLy9XYWxscyBkb3duXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCcgIHdhbGxzIGdvaW5nIGRvd24gIScpO1xyXG4gICAgICAgICAgICB0aGlzLmxvd2VyV2FsbHNXaXRoVHdlZW4oKTtcclxuICAgICAgICB9LCB0aGlzLndhbGxUaW1lKTtcclxuICAgIH1cclxuICAgXHJcbiAgICBsb3dlcldhbGxzV2l0aFR3ZWVuKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCd3YWxsczExMSBsb3dlcmluZyB3YWxscyEnKVxyXG4gICAgICAgIGlmICh0aGlzLndhbGxzVXApIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3dhbGxzIGRvd24hJyk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGVmdFdhbGwucG9zaXRpb24ueSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS53YWxsTW92ZVNvdW5kLnBsYXkoKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5nYW1lLnNvdW5kTWFuYWdlci53YWxsTW92ZS5wbGF5KCk7XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhbmltYXRpb24ga2V5ZnJhbWVzIGZvciBsb3dlcmluZyB3YWxsc1xyXG4gICAgICAgICAgICBjb25zdCBsb3dlckFuaW1hdGlvbiA9IG5ldyBCQUJZTE9OLkFuaW1hdGlvbihcclxuICAgICAgICAgICAgICAgIFwibG93ZXJBbmltYXRpb25cIixcclxuICAgICAgICAgICAgICAgIFwicG9zaXRpb24ueVwiLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZVJhdGUsXHJcbiAgICAgICAgICAgICAgICBCQUJZTE9OLkFuaW1hdGlvbi5BTklNQVRJT05UWVBFX0ZMT0FULFxyXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5BbmltYXRpb24uQU5JTUFUSU9OTE9PUE1PREVfQ1lDTEVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY29uc3Qga2V5RnJhbWVzID0gW107XHJcbiAgICAgICAgICAgIGtleUZyYW1lcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGZyYW1lOiAwLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMud2FsbFVwUG9zaXRpb25cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBrZXlGcmFtZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBmcmFtZTogdGhpcy5mcmFtZVJhdGUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogMFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNldCB0aGUgYW5pbWF0aW9uIGtleWZyYW1lc1xyXG4gICAgICAgICAgICBsb3dlckFuaW1hdGlvbi5zZXRLZXlzKGtleUZyYW1lcyk7XHJcbiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgYW5pbWF0aW9uIHRvIGJvdGggcGFyZW50IG1lc2hlc1xyXG4gICAgICAgICAgICB0aGlzLmxlZnRXYWxsUGFyZW50LmFuaW1hdGlvbnMucHVzaChsb3dlckFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMucmlnaHRXYWxsUGFyZW50LmFuaW1hdGlvbnMucHVzaChsb3dlckFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgIC8vIFBsYXkgdGhlIGFuaW1hdGlvblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmJlZ2luRGlyZWN0QW5pbWF0aW9uKHRoaXMubGVmdFdhbGxQYXJlbnQsIFtsb3dlckFuaW1hdGlvbl0sIDAsIHRoaXMuZnJhbWVSYXRlLCBmYWxzZSwgdGhpcy53YWxsU3BlZWQpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmJlZ2luRGlyZWN0QW5pbWF0aW9uKHRoaXMucmlnaHRXYWxsUGFyZW50LCBbbG93ZXJBbmltYXRpb25dLCAwLCB0aGlzLmZyYW1lUmF0ZSwgZmFsc2UsIHRoaXMud2FsbFNwZWVkKTtcclxuICAgICAgICAgICAgbG93ZXJBbmltYXRpb24ub25BbmltYXRpb25FbmQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndhbGxzVXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLndhbGxzVXAgPSBmYWxzZTsnKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLndhbGxSYWlzZWQoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnICB3YWxscyBnb2luZyBkb3duICEnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMud2FsbHNVcCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lLndhbGxNb3ZlRmluaXNoU291bmQucGxheSgpO1xyXG4gICAgICAgICAgICB9LCB0aGlzLndhbGxUaW1lKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IFdhbGxzIH07XHJcbiIsIi8vIFBsYXRmb3JtLmpzXHJcbmltcG9ydCB7IFdhbGxzIH0gZnJvbSAnLi9XYWxscy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxhdGZvcm0ge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIG1hdGVyaWFsTWFuYWdlciwgZ2FtZSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLm1hdGVyaWFsTWFuYWdlciA9IG1hdGVyaWFsTWFuYWdlcjtcclxuICAgICAgICB0aGlzLmdhbWUgPSBnYW1lO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy53YWxscyA9IG5ldyBXYWxscyh0aGlzLnNjZW5lLHRoaXMuZ2FtZSwgdGhpcy5tYXRlcmlhbE1hbmFnZXIpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIENyZWF0ZSBtYWluIHBsYXRmb3JtXHJcbiAgICAgICAgY29uc3QgbWFpblBsYXRmb3JtU2l6ZSA9IHsgd2lkdGg6IDQwLCBoZWlnaHQ6IDIsIGRlcHRoOiAxMDAgfTtcclxuICAgICAgICBjb25zdCBtYWluUGxhdGZvcm0gPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveChcIm1haW5QbGF0Zm9ybVwiLCBtYWluUGxhdGZvcm1TaXplLCB0aGlzLnNjZW5lKTtcclxuICAgICAgICBtYWluUGxhdGZvcm0ucG9zaXRpb24ueSA9IC0xO1xyXG4gICAgICAgIG1haW5QbGF0Zm9ybS5wb3NpdGlvbi56ID0gMjA7XHJcbiAgICAgICAgbWFpblBsYXRmb3JtLm1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbE1hbmFnZXIuZ2V0TWF0ZXJpYWwoXCJjb2xsaXNpb25Cb3hNYXRlcmlhbFwiKTtcclxuICAgICAgICAvLyBBZGQgcGh5c2ljcyBpbXBvc3RvciB0byB0aGUgbWFpbiBwbGF0Zm9ybVxyXG4gICAgICAgIG1haW5QbGF0Zm9ybS5waHlzaWNzSW1wb3N0b3IgPSBuZXcgQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IoXHJcbiAgICAgICAgICAgIG1haW5QbGF0Zm9ybSxcclxuICAgICAgICAgICAgQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IuQm94SW1wb3N0b3IsXHJcbiAgICAgICAgICAgIHsgbWFzczogMCwgcmVzdGl0dXRpb246IDAsIGZyaWN0aW9uOiAwLjA1IH0sXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmVcclxuICAgICAgICApO1xyXG4gICAgICAgIC8vIENyZWF0ZSBwdXNoZXIgcGl0XHJcbiAgICAgICAgY29uc3Qgc2lkZVNsb3BlV2lkdGggPSAzO1xyXG4gICAgICAgIGNvbnN0IHNpZGVTbG9wZUhlaWdodCA9IDkwO1xyXG4gICAgICAgIGNvbnN0IHNpZGVTbG9wZURlcHRoID0gNzA7XHJcbiAgICAgICAgY29uc3Qgc2xvcGVBbmdsZSA9IDEwO1xyXG4gICAgICAgIGNvbnN0IGJhY2tTbG9wZSA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQm94KFwiYmFja1Nsb3BlXCIsIHtcclxuICAgICAgICAgICAgd2lkdGg6IHNpZGVTbG9wZVdpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHNpZGVTbG9wZUhlaWdodCxcclxuICAgICAgICAgICAgZGVwdGg6IHNpZGVTbG9wZURlcHRoXHJcbiAgICAgICAgfSwgdGhpcy5zY2VuZSk7XHJcbiAgICAgICAgYmFja1Nsb3BlLnBvc2l0aW9uLnggPSAwO1xyXG4gICAgICAgIGJhY2tTbG9wZS5wb3NpdGlvbi55ID0gMTA7XHJcbiAgICAgICAgYmFja1Nsb3BlLnJvdGF0aW9uLnkgPSBNYXRoLlBJIC8gMjtcclxuICAgICAgICBiYWNrU2xvcGUucG9zaXRpb24ueiA9IC0yMjtcclxuICAgICAgICBiYWNrU2xvcGUucm90YXRpb24ueiA9IC1NYXRoLlBJIC8gc2xvcGVBbmdsZTtcclxuXHJcbiAgICAgICAgY29uc3QgcmlnaHRTbG9wZSA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQm94KFwicmlnaHRTbG9wZVwiLCB7XHJcbiAgICAgICAgICAgIHdpZHRoOiBzaWRlU2xvcGVXaWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBzaWRlU2xvcGVIZWlnaHQsXHJcbiAgICAgICAgICAgIGRlcHRoOiBzaWRlU2xvcGVEZXB0aFxyXG4gICAgICAgIH0sIHRoaXMuc2NlbmUpO1xyXG4gICAgICAgIHJpZ2h0U2xvcGUucG9zaXRpb24ueCA9IC0yMDtcclxuICAgICAgICByaWdodFNsb3BlLnBvc2l0aW9uLnkgPSAxMDtcclxuICAgICAgICByaWdodFNsb3BlLnBvc2l0aW9uLnogPSAtMTU7XHJcbiAgICAgICAgcmlnaHRTbG9wZS5yb3RhdGlvbi56ID0gTWF0aC5QSSAvIHNsb3BlQW5nbGU7IC8vIDQ1LWRlZ3JlZSByb3RhdGlvbiBmb3IgdGhlIHNsb3BlXHJcbiAgICAgICAgY29uc3QgbGVmdFNsb3BlID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3goXCJsZWZ0U2xvcGVcIiwge1xyXG4gICAgICAgICAgICB3aWR0aDogc2lkZVNsb3BlV2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogc2lkZVNsb3BlSGVpZ2h0LFxyXG4gICAgICAgICAgICBkZXB0aDogc2lkZVNsb3BlRGVwdGhcclxuICAgICAgICB9LCB0aGlzLnNjZW5lKTtcclxuICAgICAgICBsZWZ0U2xvcGUucG9zaXRpb24ueCA9IDIwO1xyXG4gICAgICAgIGxlZnRTbG9wZS5wb3NpdGlvbi55ID0gMTA7XHJcbiAgICAgICAgbGVmdFNsb3BlLnBvc2l0aW9uLnogPSAtMTU7XHJcbiAgICAgICAgbGVmdFNsb3BlLnJvdGF0aW9uLnogPSAtTWF0aC5QSSAvIHNsb3BlQW5nbGU7IC8vIC00NS1kZWdyZWUgcm90YXRpb24gZm9yIHRoZSBzbG9wZVxyXG5cclxuICAgICAgICAvLyBBZGQgcGh5c2ljcyBpbXBvc3RvcnMgdG8gdGhlIHNsb3Blc1xyXG4gICAgICAgIGNvbnN0IHNsb3Blc1BoeXNpY3NPcHRpb25zID0geyBtYXNzOiAwLCByZXN0aXR1dGlvbjogMC4xLCBmcmljdGlvbjogMCB9O1xyXG4gICAgICAgIGxlZnRTbG9wZS5waHlzaWNzSW1wb3N0b3IgPSBuZXcgQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IobGVmdFNsb3BlLCBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5Cb3hJbXBvc3Rvciwgc2xvcGVzUGh5c2ljc09wdGlvbnMsIHRoaXMuc2NlbmUpO1xyXG4gICAgICAgIHJpZ2h0U2xvcGUucGh5c2ljc0ltcG9zdG9yID0gbmV3IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yKHJpZ2h0U2xvcGUsIEJBQllMT04uUGh5c2ljc0ltcG9zdG9yLkJveEltcG9zdG9yLCBzbG9wZXNQaHlzaWNzT3B0aW9ucywgdGhpcy5zY2VuZSk7XHJcbiAgICAgICAgYmFja1Nsb3BlLnBoeXNpY3NJbXBvc3RvciA9IG5ldyBCQUJZTE9OLlBoeXNpY3NJbXBvc3RvcihiYWNrU2xvcGUsIEJBQllMT04uUGh5c2ljc0ltcG9zdG9yLkJveEltcG9zdG9yLCBzbG9wZXNQaHlzaWNzT3B0aW9ucywgdGhpcy5zY2VuZSk7XHJcbiAgICAgICAgcmV0dXJuIG1haW5QbGF0Zm9ybTtcclxuICAgIH1cclxufSIsImNsYXNzIE9iamVjdHMge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIG1hdGVyaWFsTWFuYWdlciwgZ2FtZSwgcGxhdGZvcm1JbXBvc3Rvcikge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLm1hdGVyaWFsTWFuYWdlciA9IG1hdGVyaWFsTWFuYWdlcjtcclxuICAgICAgICB0aGlzLmdhbWUgPSBnYW1lO1xyXG4gICAgICAvLyAgdGhpcy5pbml0aWFsaXplTWFzdGVyQ29va2llKCk7XHJcbiAgICB9XHJcbiAgICBhc3luYyBpbml0aWFsaXplTWFzdGVyQ29va2llKCkge1xyXG4gICAgICAgIC8vIExvYWQgdGhlIG1hc3RlciBjb29raWUgbWVzaFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEJBQllMT04uU2NlbmVMb2FkZXIuSW1wb3J0TWVzaEFzeW5jKFwiXCIsIFwiYXNzZXRzL1wiLCBcImNob2NvbGF0ZUNoaXBDb29raWUuZ2xiXCIsIHRoaXMuc2NlbmUpO1xyXG4gICAgICAgICAgICAvLyBMb2cgdGhlIHJlc3VsdHMgdG8gaW5zcGVjdCB3aGF0J3MgYmVpbmcgbG9hZGVkXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIG1lc2hlczpcIiwgcmVzdWx0Lm1lc2hlcyk7XHJcbiAgICAgICAgICAgIC8vIEZpbmQgYW5kIGFzc2lnbiB0aGUgYWN0dWFsIGNvb2tpZSBtZXNoIHdpdGggZ2VvbWV0cnlcclxuICAgICAgICAgICAgY29uc3QgY29va2llTWVzaCA9IHJlc3VsdC5tZXNoZXMuZmluZChtZXNoID0+IG1lc2guaWQgPT09IFwieW91ckNvb2tpZU1lc2hJZFwiKTsgLy8gUmVwbGFjZSB3aXRoIGFjdHVhbCBpZCBvciB1c2UgY29uZGl0aW9ucyB0byBpZGVudGlmeSB0aGUgbWVzaFxyXG4gICAgICAgICAgICBpZiAoY29va2llTWVzaCAmJiBjb29raWVNZXNoLmdlb21ldHJ5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hc3RlckNvb2tpZSA9IGNvb2tpZU1lc2g7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hc3RlckNvb2tpZS5pc1Zpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFzdGVyQ29va2llLnNldEVuYWJsZWQoZmFsc2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk5vIGdlb21ldHJ5IGZvdW5kIGluIHRoZSBpbXBvcnRlZCBtZXNoZXNcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBtYXN0ZXIgY29va2llIG1lc2g6XCIsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgd2FpdEZvclBsYXRmb3JtSW1wb3N0b3IoKSB7XHJcbiAgICAgICAgd2hpbGUgKCF0aGlzLmdhbWUucGxhdGZvcm1JbXBvc3Rvcikge1xyXG4gICAgICAgICAgICAvLyBXYWl0IGZvciBhIHNob3J0IHBlcmlvZCAoZS5nLiwgMTAwIG1zKSBiZWZvcmUgY2hlY2tpbmcgYWdhaW5cclxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFzeW5jIGNyZWF0ZUNvb2tpZShwbGF5ZXJEcm9wcGVkLCBkcm9wUG9zLCBwbGF0Zm9ybSwgcHVzaGVyKSB7XHJcbiAgICAgICAgaWYgKCFwbGF0Zm9ybSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJXYWl0aW5nIGZvciBwbGF0Zm9ybSBpbXBvc3RvciB0byBiZSByZWFkeS4uLlwiKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbGF0Zm9ybUltcG9zdG9yOyAvLyBXYWl0IGZvciBwbGF0Zm9ybSBpbXBvc3RvciB0byBiZSByZWFkeVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29va2llID0gYXdhaXQgbmV3IFByb21pc2UoKGlubmVyUmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5TY2VuZUxvYWRlci5JbXBvcnRNZXNoKFwiXCIsIFwiYXNzZXRzL1wiLCBcInN1Z2FyQ29va2llLmdsYlwiLCB0aGlzLnNjZW5lLCAobWVzaGVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vQkFCWUxPTi5TY2VuZUxvYWRlci5JbXBvcnRNZXNoKFwiXCIsIFwiYXNzZXRzL1wiLCBcImNob2NvbGF0ZUNoaXBDb29raWUuZ2xiXCIsIHRoaXMuc2NlbmUsIChtZXNoZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzaGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29va2llTWVzaCA9IG1lc2hlc1swXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29va2llTWVzaC5uYW1lID0gXCJjb29raWVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29va2llTWVzaC5pbml0aWFsQ29sbGlzaW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29va2llTWVzaC5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMTcuMiwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvb2tpZU1lc2gucm90YXRpb24gPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29raWVNZXNoLnNldFBpdm90TWF0cml4KEJBQllMT04uTWF0cml4LlRyYW5zbGF0aW9uKDAsIC1jb29raWVNZXNoLnNjYWxpbmcueSwgMCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29raWVNZXNoLnNjYWxpbmcgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDE0LCAxOCwgMTQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGN5bGluZGVyIGFuZCBwaHlzaWNzIGltcG9zdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN5bGluZGVyID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVDeWxpbmRlcihcImNvb2tpZUN5bGluZGVyXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYW1ldGVyVG9wOiA3LjUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFtZXRlckJvdHRvbTogOCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3NlbGxhdGlvbjogMTIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMuc2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjeWxpbmRlci5wb3NpdGlvbiA9IGRyb3BQb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhbmQgc2V0IHRoZSBwaHlzaWNzIGltcG9zdG9yIGZvciB0aGUgY29va2llIG1lc2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3lsaW5kZXIucGh5c2ljc0ltcG9zdG9yID0gbmV3IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yKGN5bGluZGVyLCBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5DeWxpbmRlckltcG9zdG9yLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNzOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdGl0dXRpb246IC41LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJpY3Rpb246IC4wNVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLnNjZW5lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3lsaW5kZXIucGh5c2ljc0ltcG9zdG9yLnJlZ2lzdGVyT25QaHlzaWNzQ29sbGlkZShwbGF0Zm9ybSwgKG1haW4sIGNvbGxpZGVkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29va2llTWVzaC5pbml0aWFsQ29sbGlzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lLnRodWRTb3VuZC5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29va2llTWVzaC5pbml0aWFsQ29sbGlzaW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjeWxpbmRlci5waHlzaWNzSW1wb3N0b3IucmVnaXN0ZXJPblBoeXNpY3NDb2xsaWRlKHB1c2hlciwgKG1haW4sIGNvbGxpZGVkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29va2llTWVzaC5pbml0aWFsQ29sbGlzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lLnRodWRTb3VuZC5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29va2llTWVzaC5pbml0aWFsQ29sbGlzaW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29raWVNZXNoLnBhcmVudCA9IGN5bGluZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjeWxpbmRlci5pc1Zpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJSZXNvbHZlKGNvb2tpZU1lc2gpOyAvLyBSZXNvbHZlIHRoZSBpbm5lciBQcm9taXNlIHdpdGggdGhlIGNyZWF0ZWQgY29va2llXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXNvbHZlKCk7IC8vIFJlc29sdmUgdGhlIG91dGVyIFByb21pc2VcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVEb251dCgpIHtcclxuICAgICAgICAvLyBJbXBvcnQgdGhlIGRvbnV0IG1vZGVsXHJcbiAgICAgICAgQkFCWUxPTi5TY2VuZUxvYWRlci5JbXBvcnRNZXNoKFwiXCIsIFwiYXNzZXRzL1wiLCBcInBpbmtEb251dC5nbGJcIiwgdGhpcy5zY2VuZSwgKG1lc2hlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAobWVzaGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvbnV0ID0gbWVzaGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgZG9udXQubmFtZSA9IFwiZG9udXRcIjtcclxuICAgICAgICAgICAgICAgIGRvbnV0LnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCA5LCAwKTsgLy8gU2V0IGluaXRpYWwgcG9zaXRpb25cclxuICAgICAgICAgICAgICAgIGRvbnV0LnJvdGF0aW9uID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcclxuICAgICAgICAgICAgICAgIC8vIFNldCBwaXZvdCBwb2ludCB0byB0aGUgY2VudGVyIG9mIHRoZSBkb251dFxyXG4gICAgICAgICAgICAgICAgZG9udXQuc2V0UGl2b3RNYXRyaXgoQkFCWUxPTi5NYXRyaXguVHJhbnNsYXRpb24oMCwgLWRvbnV0LnNjYWxpbmcueSwgMCkpO1xyXG4gICAgICAgICAgICAgICAgZG9udXQuc2NhbGluZyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMTAsIDEwLCAxMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjeWxpbmRlciA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQ3lsaW5kZXIoXCJkb251dEN5bGluZGVyXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDYsIC8vIFNldCB0aGUgaGVpZ2h0IGJhc2VkIG9uIHRoZSBkb251dCdzIHNjYWxlZCBzaXplXHJcbiAgICAgICAgICAgICAgICAgICAgZGlhbWV0ZXJUb3A6IGRvbnV0LnNjYWxpbmcueCAqIDEuNiwgLy8gU2V0IHRoZSB0b3AgZGlhbWV0ZXIgYmFzZWQgb24gdGhlIGRvbnV0J3Mgc2NhbGVkIHNpemVcclxuICAgICAgICAgICAgICAgICAgICBkaWFtZXRlckJvdHRvbTogZG9udXQuc2NhbGluZy54ICogMS43LCAvLyBTZXQgdGhlIGJvdHRvbSBkaWFtZXRlciBiYXNlZCBvbiB0aGUgZG9udXQncyBzY2FsZWQgc2l6ZVxyXG4gICAgICAgICAgICAgICAgICAgIHRlc3NlbGxhdGlvbjogMTIsXHJcblxyXG4gICAgICAgICAgICAgICAgfSwgdGhpcy5zY2VuZSk7XHJcbiAgICAgICAgICAgICAgICBjeWxpbmRlci5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgNDAsIDApOyAvLyBTZXQgaW5pdGlhbCBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgZG9udXQucGFyZW50ID0gY3lsaW5kZXI7XHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBwaHlzaWNzIGltcG9zdG9yIGZvciB0aGUgY3lsaW5kZXJcclxuICAgICAgICAgICAgICAgIGN5bGluZGVyLnBoeXNpY3NJbXBvc3RvciA9IG5ldyBCQUJZTE9OLlBoeXNpY3NJbXBvc3RvcihjeWxpbmRlciwgQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IuQ3lsaW5kZXJJbXBvc3Rvciwge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc3M6IDMsIHJlc3RpdHV0aW9uOiAwLjEsIGZyaWN0aW9uOiAwLjFcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMuc2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgY3lsaW5kZXIuaXNWaXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUN1cGNha2UoKSB7XHJcbiAgICAgICAgQkFCWUxPTi5TY2VuZUxvYWRlci5JbXBvcnRNZXNoKFwiXCIsIFwiYXNzZXRzL1wiLCBcImN1cGNha2UuZ2xiXCIsIHRoaXMuc2NlbmUsIChtZXNoZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKG1lc2hlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXBjYWtlID0gbWVzaGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgY3VwY2FrZS5uYW1lID0gXCJjdXBjYWtlXCI7XHJcbiAgICAgICAgICAgICAgICBjdXBjYWtlLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAxMywgMCk7XHJcbiAgICAgICAgICAgICAgICBjdXBjYWtlLnJvdGF0aW9uID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcclxuICAgICAgICAgICAgICAgIGN1cGNha2Uuc2V0UGl2b3RNYXRyaXgoQkFCWUxPTi5NYXRyaXguVHJhbnNsYXRpb24oMCwgLWN1cGNha2Uuc2NhbGluZy55LCAwKSk7XHJcbiAgICAgICAgICAgICAgICBjdXBjYWtlLnNjYWxpbmcgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDEwLCAxMCwgMTApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3lsaW5kZXIgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUN5bGluZGVyKFwiY3VwY2FrZUN5bGluZGVyXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpYW1ldGVyVG9wOiBjdXBjYWtlLnNjYWxpbmcueCAqIDEuMyxcclxuICAgICAgICAgICAgICAgICAgICBkaWFtZXRlckJvdHRvbTogY3VwY2FrZS5zY2FsaW5nLnggKiAuOCxcclxuICAgICAgICAgICAgICAgICAgICB0ZXNzZWxsYXRpb246IDEyLFxyXG4gICAgICAgICAgICAgICAgfSwgdGhpcy5zY2VuZSk7XHJcbiAgICAgICAgICAgICAgICBjeWxpbmRlci5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgNDAsIDApO1xyXG4gICAgICAgICAgICAgICAgY3VwY2FrZS5wYXJlbnQgPSBjeWxpbmRlcjtcclxuICAgICAgICAgICAgICAgIGN5bGluZGVyLnBoeXNpY3NJbXBvc3RvciA9IG5ldyBCQUJZTE9OLlBoeXNpY3NJbXBvc3RvcihjeWxpbmRlciwgQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IuQ3lsaW5kZXJJbXBvc3Rvciwge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc3M6IDIsIHJlc3RpdHV0aW9uOiAwLjEsIGZyaWN0aW9uOiAwLjA1XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzLnNjZW5lKTtcclxuICAgICAgICAgICAgICAgIGN5bGluZGVyLmlzVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVDaG9jb2xhdGVCYXIoKSB7XHJcbiAgICAgICAgQkFCWUxPTi5TY2VuZUxvYWRlci5JbXBvcnRNZXNoKFwiXCIsIFwiYXNzZXRzL1wiLCBcImNob2NvbGF0ZUJhci5nbGJcIiwgdGhpcy5zY2VuZSwgKG1lc2hlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAobWVzaGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNob2NvbGF0ZUJhciA9IG1lc2hlc1swXTtcclxuICAgICAgICAgICAgICAgIGNob2NvbGF0ZUJhci5uYW1lID0gXCJjaG9jb2xhdGVCYXJcIjtcclxuICAgICAgICAgICAgICAgIGNob2NvbGF0ZUJhci5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgOSwgMCk7XHJcbiAgICAgICAgICAgICAgICBjaG9jb2xhdGVCYXIucm90YXRpb24gPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xyXG4gICAgICAgICAgICAgICAgY2hvY29sYXRlQmFyLnNldFBpdm90TWF0cml4KEJBQllMT04uTWF0cml4LlRyYW5zbGF0aW9uKDAsIC1jaG9jb2xhdGVCYXIuc2NhbGluZy55LCAwKSk7XHJcbiAgICAgICAgICAgICAgICBjaG9jb2xhdGVCYXIuc2NhbGluZyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMTAsIDEwLCAxMCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBib3ggPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveChcImNob2NvbGF0ZUJhckJveFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxLjUsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDE3LFxyXG4gICAgICAgICAgICAgICAgICAgIGRlcHRoOiA3XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzLnNjZW5lKTtcclxuICAgICAgICAgICAgICAgIGJveC5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgNDAsIDApO1xyXG4gICAgICAgICAgICAgICAgY2hvY29sYXRlQmFyLnBhcmVudCA9IGJveDtcclxuICAgICAgICAgICAgICAgIGJveC5waHlzaWNzSW1wb3N0b3IgPSBuZXcgQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IoYm94LCBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5Cb3hJbXBvc3Rvciwge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc3M6IDIuNCwgcmVzdGl0dXRpb246IDAuMDUsIGZyaWN0aW9uOiAwLjA3XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzLnNjZW5lKTtcclxuICAgICAgICAgICAgICAgYm94LmlzVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvL2FkZCBmb3JjZSBmb3Igd2hlbiB0cmVhdHMgbGFuZFxyXG5cclxuICAgIGNyZWF0ZVBpZSgpIHtcclxuICAgICAgICBCQUJZTE9OLlNjZW5lTG9hZGVyLkltcG9ydE1lc2goXCJcIiwgXCJhc3NldHMvXCIsIFwicGllLmdsYlwiLCB0aGlzLnNjZW5lLCAobWVzaGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChtZXNoZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGllID0gbWVzaGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgcGllLm5hbWUgPSBcInBpZVwiO1xyXG4gICAgICAgICAgICAgICAgcGllLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCA5LCAwKTtcclxuICAgICAgICAgICAgICAgIHBpZS5yb3RhdGlvbiA9IEJBQllMT04uVmVjdG9yMy5aZXJvKCk7XHJcbiAgICAgICAgICAgICAgICBwaWUuc2V0UGl2b3RNYXRyaXgoQkFCWUxPTi5NYXRyaXguVHJhbnNsYXRpb24oMCwgLXBpZS5zY2FsaW5nLnksIDApKTtcclxuICAgICAgICAgICAgICAgIHBpZS5zY2FsaW5nID0gbmV3IEJBQllMT04uVmVjdG9yMygxMCwgMTAsIDEwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJveCA9ICB0aGlzLmNyZWF0ZVBpZUNvbGxpc2lvbkJveCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc3QgYm94ID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3goXCJwaWVCb3hcIiwge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGhlaWdodDogMS41LFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIHdpZHRoOiAxNyxcclxuICAgICAgICAgICAgICAgIC8vICAgICBkZXB0aDogN1xyXG4gICAgICAgICAgICAgICAgLy8gfSwgdGhpcy5zY2VuZSk7XHJcbiAgICAgICAgICAgICAgICBib3gucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDQwLCAwKTtcclxuICAgICAgICAgICAgICAgIHBpZS5wYXJlbnQgPSBib3g7XHJcbiAgICAgICAgICAgICAgICBib3gucGh5c2ljc0ltcG9zdG9yID0gbmV3IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yKGJveCwgQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IuQm94SW1wb3N0b3IsIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNzOiAyLjQsIHJlc3RpdHV0aW9uOiAwLjA1LCBmcmljdGlvbjogMC4wN1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcy5zY2VuZSk7XHJcbiAgICAgICAgICAgICAgLy8gYm94LmlzVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIHBpZS5pc0NvdW50ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlUGllQ29sbGlzaW9uQm94KCkge1xyXG4gICAgICAgIC8vIERlZmluZSB0aGUgZGltZW5zaW9ucyBvZiB0aGUgcGllIHNsaWNlXHJcbiAgICAgICAgY29uc3Qgc2xpY2VXaWR0aCA9IDEwOyAgLy8gV2lkdGggb2YgdGhlIHNsaWNlXHJcbiAgICAgICAgY29uc3Qgc2xpY2VIZWlnaHQgPSAxLjU7ICAvLyBIZWlnaHQgb2YgdGhlIHNsaWNlXHJcbiAgICAgICAgY29uc3Qgc2xpY2VEZXB0aCA9IDEwOyAgLy8gRGVwdGggb2YgdGhlIHNsaWNlXHJcbiAgICBcclxuICAgICAgICAvLyBDcmVhdGUgdGhyZWUgYm94ZXMgdG8gZm9ybSB0aGUgdHJpYW5ndWxhciBjb2xsaXNpb24gYXJlYVxyXG4gICAgICAgIGNvbnN0IGJveDEgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveChcImJveDFcIiwge1xyXG4gICAgICAgICAgICBoZWlnaHQ6IHNsaWNlSGVpZ2h0LFxyXG4gICAgICAgICAgICB3aWR0aDogc2xpY2VXaWR0aCxcclxuICAgICAgICAgICAgZGVwdGg6IHNsaWNlRGVwdGhcclxuICAgICAgICB9LCB0aGlzLnNjZW5lKTtcclxuICAgICAgICBib3gxLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAwLCAwKTtcclxuICAgIFxyXG4gICAgICAgIGNvbnN0IGJveDIgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveChcImJveDJcIiwge1xyXG4gICAgICAgICAgICBoZWlnaHQ6IHNsaWNlSGVpZ2h0LFxyXG4gICAgICAgICAgICB3aWR0aDogc2xpY2VXaWR0aCxcclxuICAgICAgICAgICAgZGVwdGg6IHNsaWNlRGVwdGhcclxuICAgICAgICB9LCB0aGlzLnNjZW5lKTtcclxuICAgICAgICBib3gyLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMyhzbGljZVdpZHRoIC8gMiwgMCwgMCk7XHJcbiAgICAgICAgYm94Mi5yb3RhdGlvbi55ID0gTWF0aC5QSSAvIDM7ICAvLyBSb3RhdGUgdGhlIGJveCB0byBmb3JtIGEgcGllIHNsaWNlXHJcbiAgICBcclxuICAgICAgICBjb25zdCBib3gzID0gQkFCWUxPTi5NZXNoQnVpbGRlci5DcmVhdGVCb3goXCJib3gzXCIsIHtcclxuICAgICAgICAgICAgaGVpZ2h0OiBzbGljZUhlaWdodCxcclxuICAgICAgICAgICAgd2lkdGg6IHNsaWNlV2lkdGgsXHJcbiAgICAgICAgICAgIGRlcHRoOiBzbGljZURlcHRoXHJcbiAgICAgICAgfSwgdGhpcy5zY2VuZSk7XHJcbiAgICAgICAgYm94My5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoLXNsaWNlV2lkdGggLyAyLCAwLCAwKTtcclxuICAgICAgICBib3gzLnJvdGF0aW9uLnkgPSAtTWF0aC5QSSAvIDM7ICAvLyBSb3RhdGUgdGhlIGJveCB0byBmb3JtIGEgcGllIHNsaWNlXHJcbiAgICBcclxuICAgICAgICAvLyBDb21iaW5lIHRoZSBib3hlcyBpbnRvIGEgc2luZ2xlIHBhcmVudCBtZXNoXHJcbiAgICAgICAgY29uc3QgcGllQ29sbGlzaW9uQm94ID0gQkFCWUxPTi5NZXNoLk1lcmdlTWVzaGVzKFtib3gxLCBib3gyLCBib3gzXSwgdHJ1ZSwgdHJ1ZSwgdW5kZWZpbmVkLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgcGllQ29sbGlzaW9uQm94Lm5hbWUgPSAncGllQm94JztcclxuICAgICAgICBjb25zb2xlLmxvZygncGllQ29sbGlzaW9uQm94IScscGllQ29sbGlzaW9uQm94Lm5hbWUpO1xyXG4gICAgICAgIC8vIFNldCB0aGUgcG9zaXRpb24gYW5kIHBoeXNpY3MgaW1wb3N0b3IgZm9yIHRoZSBjb2xsaXNpb24gYm94XHJcbiAgICAgICAgcGllQ29sbGlzaW9uQm94LnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCA5LCAwKTtcclxuICAgICAgICBwaWVDb2xsaXNpb25Cb3gucGh5c2ljc0ltcG9zdG9yID0gbmV3IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yKHBpZUNvbGxpc2lvbkJveCwgQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IuQm94SW1wb3N0b3IsIHtcclxuICAgICAgICAgICAgbWFzczogMi40LFxyXG4gICAgICAgICAgICByZXN0aXR1dGlvbjogMC4wNSxcclxuICAgICAgICAgICAgZnJpY3Rpb246IDAuMDdcclxuICAgICAgICB9LCB0aGlzLnNjZW5lKTtcclxuICAgICAgICByZXR1cm4gcGllQ29sbGlzaW9uQm94O1xyXG4gICAgICAgIC8vIHBpZUNvbGxpc2lvbkJveC5pc1Zpc2libGUgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUNvbGEoKSB7XHJcbiAgICAgICAgQkFCWUxPTi5TY2VuZUxvYWRlci5JbXBvcnRNZXNoKFwiXCIsIFwiYXNzZXRzL1wiLCBcImNvbGEuZ2xiXCIsIHRoaXMuc2NlbmUsIChtZXNoZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKG1lc2hlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xhID0gbWVzaGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgY29sYS5uYW1lID0gXCJjb2xhXCI7XHJcbiAgICAgICAgICAgICAgICBjb2xhLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCAyNiwgMCk7XHJcbiAgICAgICAgICAgICAgICBjb2xhLnJvdGF0aW9uID0gQkFCWUxPTi5WZWN0b3IzLlplcm8oKTtcclxuICAgICAgICAgICAgICAgIGNvbGEuc2V0UGl2b3RNYXRyaXgoQkFCWUxPTi5NYXRyaXguVHJhbnNsYXRpb24oMCwgLWNvbGEuc2NhbGluZy55LCAwKSk7XHJcbiAgICAgICAgICAgICAgICBjb2xhLnNjYWxpbmcgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDI1LCAyNSwgMjUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3lsaW5kZXIgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUN5bGluZGVyKFwiY29sYUN5bGluZGVyXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDM5LFxyXG4gICAgICAgICAgICAgICAgICAgIGRpYW1ldGVyVG9wOiBjb2xhLnNjYWxpbmcueCAqIC40LFxyXG4gICAgICAgICAgICAgICAgICAgIGRpYW1ldGVyQm90dG9tOiBjb2xhLnNjYWxpbmcueCAqIC42NSxcclxuICAgICAgICAgICAgICAgICAgICB0ZXNzZWxsYXRpb246IDEyLFxyXG4gICAgICAgICAgICAgICAgfSwgdGhpcy5zY2VuZSk7XHJcbiAgICAgICAgICAgICAgICBjeWxpbmRlci5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgNDAsIDApO1xyXG4gICAgICAgICAgICAgICAgY29sYS5wYXJlbnQgPSBjeWxpbmRlcjtcclxuICAgICAgICAgICAgICAgIGN5bGluZGVyLnBoeXNpY3NJbXBvc3RvciA9IG5ldyBCQUJZTE9OLlBoeXNpY3NJbXBvc3RvcihjeWxpbmRlciwgQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IuQ3lsaW5kZXJJbXBvc3Rvciwge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc3M6IDIsIHJlc3RpdHV0aW9uOiAwLjEsIGZyaWN0aW9uOiAwLjJcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMuc2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgY3lsaW5kZXIuaXNWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlQ2FrZSgpIHtcclxuICAgICAgICBCQUJZTE9OLlNjZW5lTG9hZGVyLkltcG9ydE1lc2goXCJcIiwgXCJhc3NldHMvXCIsIFwiY2FrZS5nbGJcIiwgdGhpcy5zY2VuZSwgKG1lc2hlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAobWVzaGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNha2UgPSBtZXNoZXNbMF07XHJcbiAgICAgICAgICAgICAgICBjYWtlLm5hbWUgPSBcImNha2VcIjtcclxuICAgICAgICAgICAgICAgIGNha2UucG9zaXRpb24gPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDM1LCAwKTtcclxuICAgICAgICAgICAgICAgIGNha2Uucm90YXRpb24gPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xyXG4gICAgICAgICAgICAgICAgY2FrZS5zZXRQaXZvdE1hdHJpeChCQUJZTE9OLk1hdHJpeC5UcmFuc2xhdGlvbigwLCAtY2FrZS5zY2FsaW5nLnksIDApKTtcclxuICAgICAgICAgICAgICAgIGNha2Uuc2NhbGluZyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMjUsIDI1LCAyNSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjeWxpbmRlciA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQ3lsaW5kZXIoXCJjYWtlQ3lsaW5kZXJcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlhbWV0ZXJUb3A6IGNha2Uuc2NhbGluZy54ICogMSxcclxuICAgICAgICAgICAgICAgICAgICBkaWFtZXRlckJvdHRvbTogY2FrZS5zY2FsaW5nLnggKiAxLjEyLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlc3NlbGxhdGlvbjogMTIsXHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzLnNjZW5lKTtcclxuICAgICAgICAgICAgICAgIGN5bGluZGVyLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygwLCA2MCwgMCk7XHJcbiAgICAgICAgICAgICAgICBjYWtlLnBhcmVudCA9IGN5bGluZGVyO1xyXG4gICAgICAgICAgICAgICAgY3lsaW5kZXIucGh5c2ljc0ltcG9zdG9yID0gbmV3IEJBQllMT04uUGh5c2ljc0ltcG9zdG9yKGN5bGluZGVyLCBCQUJZTE9OLlBoeXNpY3NJbXBvc3Rvci5DeWxpbmRlckltcG9zdG9yLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFzczogMiwgcmVzdGl0dXRpb246IDAuMSwgZnJpY3Rpb246IDAuMDVcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMuc2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgY3lsaW5kZXIuaXNWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBPYmplY3RzIH07XHJcbiIsImltcG9ydCB7IE9iamVjdHMgfSBmcm9tICcuLi9Db21wb25lbnRzL09iamVjdHMuanMnO1xyXG5cclxuY2xhc3MgRHJvcE1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIG1hdGVyaWFsTWFuYWdlciwgcGxhdGZvcm1JbXBvc3RvciwgZ2FtZSwgcHVzaGVyKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcbiAgICAgICAgdGhpcy5tYXRlcmlhbE1hbmFnZXIgPSBtYXRlcmlhbE1hbmFnZXI7XHJcbiAgICAgICAgdGhpcy5sb2FkZWRNb25rZXlNb2RlbCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zY2FsZUZhY3RvciA9IDI7IC8vIERlZmluZSBzY2FsZUZhY3RvciBhcyBhIGNsYXNzIHByb3BlcnR5c1xyXG4gICAgICAgIC8vICB0aGlzLmxvYWRNb25rZXlNb2RlbCgpOyAvLyBMb2FkIHRoZSBtb2RlbCB3aGVuIHRoZSBjbGFzcyBpcyBpbnN0YW50aWF0ZWRcclxuICAgICAgICB0aGlzLnBsYXRmb3JtSW1wb3N0b3IgPSBwbGF0Zm9ybUltcG9zdG9yOyAvLyBBZGQgdGhpcyBsaW5lXHJcbiAgICAgICAgdGhpcy5wdXNoZXIgPSBwdXNoZXI7XHJcbiAgICAgICAgdGhpcy5vYmplY3RzID0gbmV3IE9iamVjdHModGhpcy5zY2VuZSwgdGhpcy5tYXRlcmlhbE1hbmFnZXIsIHRoaXMuZ2FtZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGxvYWRNb25rZXlNb2RlbCgpIHtcclxuICAgICAgICBCQUJZTE9OLlNjZW5lTG9hZGVyLkltcG9ydE1lc2goXCJcIiwgXCJhc3NldHMvXCIsIFwibW9ua2V5LmdsYlwiLCB0aGlzLnNjZW5lLCAobWVzaGVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChtZXNoZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZWRNb25rZXlNb2RlbCA9IG1lc2hlc1swXTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkTW9ua2V5TW9kZWwuaXNWaXNpYmxlID0gZmFsc2U7IC8vIEhpZGUgaXQgaW5pdGlhbGx5XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlZE1vbmtleU1vZGVsLnNjYWxpbmcgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKHRoaXMuc2NhbGVGYWN0b3IsIHRoaXMuc2NhbGVGYWN0b3IsIHRoaXMuc2NhbGVGYWN0b3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJvcE1vbmtleU1vZGVsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmxvYWRlZE1vbmtleU1vZGVsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vbmtleUNsb25lID0gdGhpcy5sb2FkZWRNb25rZXlNb2RlbC5jbG9uZShcIm1vbmtleUNsb25lXCIpO1xyXG4gICAgICAgICAgICBtb25rZXlDbG9uZS5pc1Zpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBtb25rZXlDbG9uZS5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgNDAsIDExMCk7IC8vIFRyeSBhIGRpZmZlcmVudCBwb3NpdGlvblxyXG4gICAgICAgICAgICBjb25zdCBib3VuZGluZ0JveCA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQm94KFwiYm91bmRpbmdCb3hcIiwge1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuc2NhbGVGYWN0b3IgKiAyLCAgLy8gQWRqdXN0ZWQgc2l6ZVxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnNjYWxlRmFjdG9yICogMixcclxuICAgICAgICAgICAgICAgIGRlcHRoOiB0aGlzLnNjYWxlRmFjdG9yICogMlxyXG4gICAgICAgICAgICB9LCB0aGlzLnNjZW5lKTtcclxuICAgICAgICAgICAgYm91bmRpbmdCb3guaXNWaXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJvdW5kaW5nQm94LnBvc2l0aW9uID0gbW9ua2V5Q2xvbmUucG9zaXRpb247XHJcbiAgICAgICAgICAgIGJvdW5kaW5nQm94LnBoeXNpY3NJbXBvc3RvciA9IG5ldyBCQUJZTE9OLlBoeXNpY3NJbXBvc3RvcihcclxuICAgICAgICAgICAgICAgIGJvdW5kaW5nQm94LFxyXG4gICAgICAgICAgICAgICAgQkFCWUxPTi5QaHlzaWNzSW1wb3N0b3IuQm94SW1wb3N0b3IsXHJcbiAgICAgICAgICAgICAgICB7IG1hc3M6IDEsIHJlc3RpdHV0aW9uOiAwLjEgfSxcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgYm91bmRpbmdCb3guYWRkQ2hpbGQobW9ua2V5Q2xvbmUpO1xyXG4gICAgICAgICAgICByZXR1cm4gYm91bmRpbmdCb3g7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyb3BDb29raWUocGxheWVyRHJvcHBlZCwgZHJvcFBvcykge1xyXG4gICAgICAgIC8vICAgY29uc29sZS5sb2coJ2Ryb3AgY29va2llIGF0IDogJyxkcm9wUG9zKVxyXG4gICAgICAgIGNvbnN0IGNvb2tpZSA9IHRoaXMub2JqZWN0cy5jcmVhdGVDb29raWUocGxheWVyRHJvcHBlZCwgZHJvcFBvcywgdGhpcy5wbGF0Zm9ybUltcG9zdG9yLCB0aGlzLnB1c2hlcik7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5kcm9wcGluZ0Nvb2tpZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5kcm9wcGluZ0Nvb2tpZXMgPSB0cnVlOyAvLyBTZXQgdGhlIGZsYWcgdG8gcHJldmVudCBtdWx0aXBsZSBpbnZvY2F0aW9uc1xyXG5cclxuICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBmbGFnIGlzIHJlc2V0IHdoZW4gdGhlIHByb21pc2UgaXMgcmVzb2x2ZWRcclxuICAgICAgICAgICAgY29va2llLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcm9wcGluZ0Nvb2tpZXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSB0aGUgcmVzdWx0IG9yIGFueSBvdGhlciBsb2dpYyBoZXJlXHJcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGVycm9ycyBncmFjZWZ1bGx5XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJvcHBpbmdDb29raWVzID0gZmFsc2U7IC8vIEVuc3VyZSB0aGUgZmxhZyBpcyByZXNldCBpbiBjYXNlIG9mIGVycm9yc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGNvb2tpZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkcm9wRG9udXQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZS5kb251dENvdW50ID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuZG9udXRDb3VudCAtPSAxO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUudWlNYW5hZ2VyLnVwZGF0ZURvbnV0Q291bnRlcigpO1xyXG4gICAgICAgICAgICBjb25zdCBkb251dCA9IHRoaXMub2JqZWN0cy5jcmVhdGVEb251dCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZG9udXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZHJvcEN1cGNha2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZS5jdXBjYWtlQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5jdXBjYWtlQ291bnQgLT0gMTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLnVpTWFuYWdlci51cGRhdGVDdXBjYWtlQ291bnRlcigpO1xyXG4gICAgICAgICAgICBjb25zdCBjdXBjYWtlID0gdGhpcy5vYmplY3RzLmNyZWF0ZUN1cGNha2UoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGN1cGNha2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZHJvcENob2NvbGF0ZUJhcigpIHtcclxuICAgICAgICBpZiAodGhpcy5nYW1lLmNob2NvbGF0ZUNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuY2hvY29sYXRlQ291bnQgLT0gMTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLnVpTWFuYWdlci51cGRhdGVDaG9jb2xhdGVDb3VudGVyKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNob2NvbGF0ZUJhciA9IHRoaXMub2JqZWN0cy5jcmVhdGVDaG9jb2xhdGVCYXIoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNob2NvbGF0ZUJhcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkcm9wUGllKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWUucGllQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5waWVDb3VudCAtPSAxO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUudWlNYW5hZ2VyLnVwZGF0ZVBpZUNvdW50ZXIoKTtcclxuICAgICAgICAgICAgY29uc3QgcGllID0gdGhpcy5vYmplY3RzLmNyZWF0ZVBpZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gcGllO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRyb3BDb2xhKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWUuY29sYUNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuY29sYUNvdW50IC09IDE7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS51aU1hbmFnZXIudXBkYXRlQ29sYUNvdW50ZXIoKTtcclxuICAgICAgICAgICAgY29uc3QgY29sYSA9IHRoaXMub2JqZWN0cy5jcmVhdGVDb2xhKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGRyb3BDYWtlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWUuY2FrZUNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUuY2FrZUNvdW50IC09IDE7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS51aU1hbmFnZXIudXBkYXRlQ2FrZUNvdW50ZXIoKTtcclxuICAgICAgICAgICAgY29uc3QgY2FrZSA9IHRoaXMub2JqZWN0cy5jcmVhdGVDYWtlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBjYWtlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBEcm9wTWFuYWdlciB9O1xyXG4iLCJjbGFzcyBDb2luUGlwZU1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIG1hdGVyaWFsTWFuYWdlciwgZHJvcE1hbmFnZXIsIGdhbWUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5tYXRlcmlhbE1hbmFnZXIgPSBtYXRlcmlhbE1hbmFnZXI7XHJcbiAgICAgICAgdGhpcy5kcm9wTWFuYWdlciA9IGRyb3BNYW5hZ2VyO1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcbiAgICAgICAgdGhpcy5tYXhEcm9wcyA9IDY7XHJcbiAgICAgICAgdGhpcy5hdmFpbGFibGVEcm9wcyA9IHRoaXMubWF4RHJvcHM7XHJcbiAgICAgICAgdGhpcy5kcm9wQ29vbGRvd24gPSAxMDAwOyAvLyAzIHNlY29uZHMgaW4gbWlsbGlzZWNvbmRzXHJcbiAgICAgICAgdGhpcy5jb29sZG93blRpbWVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvaW5QaXBlU3BlZWQgPSAwLjI1O1xyXG4gICAgICAgIHRoaXMuY29pblBpcGVMaW1pdCA9IDIwO1xyXG4gICAgICAgIHRoaXMuY29pblBpcGVEaXJlY3Rpb24gPSAxO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQ29pblBpcGUoKTtcclxuICAgICAgICB0aGlzLmdhbWUudWlNYW5hZ2VyLnVwZGF0ZURyb3BDb3VudGVyKHRoaXMuYXZhaWxhYmxlRHJvcHMpOyAvLyBVcGRhdGUgVUlcclxuICAgICAgICB0aGlzLmdhbWUudWlNYW5hZ2VyLnVwZGF0ZUNvb2tpZUNvdW50ZXIodGhpcy5jb29raWVDb3VudCk7IC8vIEluaXRpYWxpemUgY29va2llIGNvdW50ZXIgaW4gVUlcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDb2luUGlwZSgpIHtcclxuICAgICAgICBjb25zdCBwaXBlU2l6ZSA9IHsgaGVpZ2h0OiAzMCwgZGlhbWV0ZXI6IDEwIH07XHJcbiAgICAgICAgdGhpcy5jb2luUGlwZSA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQ3lsaW5kZXIoXCJjb2luUGlwZVwiLCBwaXBlU2l6ZSwgdGhpcy5zY2VuZSk7XHJcbiAgICAgICAgdGhpcy5jb2luUGlwZS5wb3NpdGlvbiA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgNTAsIDApOyAvLyBTZXQgaW5pdGlhbCBwb3NpdGlvblxyXG4gICAgICAgIHRoaXMuY29pblBpcGUubWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsTWFuYWdlci5nZXRNYXRlcmlhbChcInNvbWVNYXRlcmlhbFwiKTsgLy8gU2V0IHRoZSBtYXRlcmlhbFxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNvaW5QaXBlKCkge1xyXG4gICAgICAgIHRoaXMuY29pblBpcGUucG9zaXRpb24ueCArPSB0aGlzLmNvaW5QaXBlU3BlZWQgKiB0aGlzLmNvaW5QaXBlRGlyZWN0aW9uO1xyXG4gICAgICAgIGlmICh0aGlzLmNvaW5QaXBlLnBvc2l0aW9uLnggPiB0aGlzLmNvaW5QaXBlTGltaXQgfHwgdGhpcy5jb2luUGlwZS5wb3NpdGlvbi54IDwgLXRoaXMuY29pblBpcGVMaW1pdCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvaW5QaXBlRGlyZWN0aW9uICo9IC0xO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcm9wQ29pbkZyb21QaXBlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmF2YWlsYWJsZURyb3BzID4gMCAmJiB0aGlzLmdhbWUuY29va2llQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgdmFyIGRyb3BQb2ludCA9IG5ldyBCQUJZTE9OLlZlY3RvcjModGhpcy5jb2luUGlwZS5wb3NpdGlvbi54LCB0aGlzLmNvaW5QaXBlLnBvc2l0aW9uLnktMTYsIHRoaXMuY29pblBpcGUucG9zaXRpb24ueik7XHJcbiAgICAgICAvLyAgICAgdmFyIGRyb3BQb2ludCA9IHRoaXMuY29pblBpcGUucG9zaXRpb24uY2xvbmUoKTtcclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgY29va2llID0gdGhpcy5kcm9wTWFuYWdlci5kcm9wQ29va2llKHRydWUsIGRyb3BQb2ludCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5wb29mU291bmQucGxheSgpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVEcm9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5jb29raWVDb3VudCAtPSAxOyAvLyBEZWR1Y3Qgb25lIGNvb2tpZVxyXG4gICAgICAgICAgICB0aGlzLmdhbWUudWlNYW5hZ2VyLnVwZGF0ZUNvb2tpZUNvdW50ZXIodGhpcy5nYW1lLmNvb2tpZUNvdW50KTsgLy8gVXBkYXRlIFVJXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3VtZURyb3AoKSB7XHJcbiAgICAgICAgdGhpcy5hdmFpbGFibGVEcm9wcyAtPSAxO1xyXG4gICAgICAgIHRoaXMuZ2FtZS51aU1hbmFnZXIudXBkYXRlRHJvcENvdW50ZXIodGhpcy5hdmFpbGFibGVEcm9wcyk7IC8vIFVwZGF0ZSBVSVxyXG4gICAgICAgIC8vIENsZWFyIGV4aXN0aW5nIHRpbWVyIGFuZCBzdGFydCBhIG5ldyBvbmVcclxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jb29sZG93blRpbWVyKTtcclxuICAgICAgICB0aGlzLmNvb2xkb3duVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnREcm9wKCk7XHJcbiAgICAgICAgfSwgdGhpcy5kcm9wQ29vbGRvd24pO1xyXG4gICAgfVxyXG4gICAgaW5jcmVtZW50RHJvcCgpIHtcclxuICAgICAgICBpZiAodGhpcy5hdmFpbGFibGVEcm9wcyA8IHRoaXMubWF4RHJvcHMpIHtcclxuICAgICAgICAgICAgdGhpcy5hdmFpbGFibGVEcm9wcyArPSAxO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWUudWlNYW5hZ2VyLnVwZGF0ZURyb3BDb3VudGVyKHRoaXMuYXZhaWxhYmxlRHJvcHMpOyAvLyBVcGRhdGUgVUlcclxuICAgICAgICAgICAgdGhpcy5jb29sZG93blRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluY3JlbWVudERyb3AoKTtcclxuICAgICAgICAgICAgfSwgNTAwKTsgLy8gSW5jcmVtZW50IGRyb3AgZXZlcnkgMC41IHNlY29uZHNcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiBcclxuICAgIHJlc2V0RHJvcHMoKSB7XHJcbiAgICAgICAgdGhpcy5hdmFpbGFibGVEcm9wcyA9IHRoaXMubWF4RHJvcHM7XHJcbiAgICAgICAgdGhpcy5nYW1lLnVpTWFuYWdlci51cGRhdGVEcm9wQ291bnRlcih0aGlzLmF2YWlsYWJsZURyb3BzKTsgLy8gVXBkYXRlIFVJXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IENvaW5QaXBlTWFuYWdlciB9O1xyXG4iLCJjbGFzcyBMZXZlbE1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGdhbWUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcclxuICAgICAgICB0aGlzLmxldmVsID0gMTtcclxuICAgIH1cclxuICAgIC8vTGV2ZWwgMTogU3VnYXIgLSBTd2VldHNcclxuICAgIC8vTGV2ZWwgMjogQWlyIC0gU3BvcnRzIEJhbGxzXHJcbiAgICAvL0xldmVsIDM6IEZ1ZWwgLSBDYXJzIG4gVHJ1Y2tzXHJcbiAgICAvL0xldmVsIDQ6IFByb3RlaW4gLSBGb29kXHJcbiAgICAvL0xldmVsIDU6IFdhdGVyIC0gU2VhIExpZmVcclxuICAgIC8vTGV2ZWwgNjogSnVpY2UgLSBGcnVpdFxyXG4gICAgLy9cclxuICAgIGxldmVsU3lzdGVtKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgbnVtUm93cyA9IDE7XHJcbiAgICAgICAgICAgIGNvbnN0IG51bUNvbHVtbnMgPSAzO1xyXG4gICAgICAgICAgICBjb25zdCBjb29raWVTcGFjaW5nID0gNy44O1xyXG4gICAgICAgICAgICBjb25zdCBpbml0aWFsWCA9IC1udW1Db2x1bW5zIC8gMiAqIGNvb2tpZVNwYWNpbmcgKyAzLjU7XHJcbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxaID0gMjI7XHJcbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxZID0gNDA7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvb2tpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZUNvb2tpZXNGb3JSb3cgPSAocm93LCBjb2wpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHhPZmZzZXQgPSBpbml0aWFsWCArIGNvbCAqIGNvb2tpZVNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB6T2Zmc2V0ID0gaW5pdGlhbFogKyByb3cgKiBjb29raWVTcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZHJvcFBvcyA9IG5ldyBCQUJZTE9OLlZlY3RvcjMoeE9mZnNldCwgaW5pdGlhbFksIHpPZmZzZXQpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ21ha2UgbGV2ZWwgMSBjb29raWUnLCBkcm9wUG9zKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvb2tpZSA9IHRoaXMuZ2FtZS5kcm9wTWFuYWdlci5kcm9wQ29va2llKGZhbHNlLCBkcm9wUG9zKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb29raWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb29raWUucm90YXRpb24gPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZXMucHVzaChjb29raWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJvdyA8IG51bVJvd3MgLSAxIHx8IGNvbCA8IG51bUNvbHVtbnMgLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbCA8IG51bUNvbHVtbnMgLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNvb2tpZXNGb3JSb3cocm93LCBjb2wgKyAxKTsgLy8gQ3JlYXRlIHRoZSBuZXh0IGNvb2tpZSBpbiB0aGUgc2FtZSByb3dcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVDb29raWVzRm9yUm93KHJvdyArIDEsIDApOyAvLyBDcmVhdGUgdGhlIGZpcnN0IGNvb2tpZSBpbiB0aGUgbmV4dCByb3dcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGZpcnN0IGdyaWQgaXMgY29tcGxldGUsIGNyZWF0ZSB0aGUgc2Vjb25kIGdyaWRcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWNvbmRHcmlkUm93cyA9IDU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Vjb25kR3JpZENvbHVtbnMgPSA1O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlY29uZEdyaWRTcGFjaW5nID0gOC44O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlY29uZEdyaWRJbml0aWFsWCA9IC1zZWNvbmRHcmlkQ29sdW1ucyAvIDIgKiBzZWNvbmRHcmlkU3BhY2luZyArIDMuNTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWNvbmRHcmlkSW5pdGlhbFogPSAzMjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3JlYXRlU2Vjb25kR3JpZENvb2tpZXNGb3JSb3cgPSAoc2Vjb25kUm93LCBzZWNvbmRDb2wpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Vjb25kWE9mZnNldCA9IHNlY29uZEdyaWRJbml0aWFsWCArIHNlY29uZENvbCAqIHNlY29uZEdyaWRTcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWNvbmRaT2Zmc2V0ID0gc2Vjb25kR3JpZEluaXRpYWxaICsgc2Vjb25kUm93ICogc2Vjb25kR3JpZFNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlY29uZERyb3BQb3MgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKHNlY29uZFhPZmZzZXQsIGluaXRpYWxZLCBzZWNvbmRaT2Zmc2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ21ha2UgbGV2ZWwgMiBjb29raWUnLCBzZWNvbmREcm9wUG9zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Vjb25kQ29va2llID0gdGhpcy5nYW1lLmRyb3BNYW5hZ2VyLmRyb3BDb29raWUoZmFsc2UsIHNlY29uZERyb3BQb3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2Vjb25kQ29va2llKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRDb29raWUucm90YXRpb24gPSBCQUJZTE9OLlZlY3RvcjMuWmVybygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29va2llcy5wdXNoKHNlY29uZENvb2tpZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlY29uZFJvdyA8IHNlY29uZEdyaWRSb3dzIC0gMSB8fCBzZWNvbmRDb2wgPCBzZWNvbmRHcmlkQ29sdW1ucyAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWNvbmRDb2wgPCBzZWNvbmRHcmlkQ29sdW1ucyAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVTZWNvbmRHcmlkQ29va2llc0ZvclJvdyhzZWNvbmRSb3csIHNlY29uZENvbCArIDEpOyAvLyBDcmVhdGUgdGhlIG5leHQgY29va2llIGluIHRoZSBzYW1lIHJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVTZWNvbmRHcmlkQ29va2llc0ZvclJvdyhzZWNvbmRSb3cgKyAxLCAwKTsgLy8gQ3JlYXRlIHRoZSBmaXJzdCBjb29raWUgaW4gdGhlIG5leHQgcm93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhjb29raWVzKTsgLy8gSW52b2tlIHRoZSBjYWxsYmFjayB3aGVuIGFsbCBjb29raWVzIGFyZSBjcmVhdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNlY29uZEdyaWRDb29raWVzRm9yUm93KDAsIDApOyAvLyBTdGFydCBjcmVhdGluZyBjb29raWVzIGZvciB0aGUgc2Vjb25kIGdyaWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGNyZWF0ZUNvb2tpZXNGb3JSb3coMCwgMCk7IC8vIFN0YXJ0IGNyZWF0aW5nIGNvb2tpZXMgZm9yIHRoZSBmaXJzdCBncmlkXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IExldmVsTWFuYWdlciB9O1xyXG4iLCIvLyBVSU1hbmFnZXIuanNcclxuLy9pbXBvcnQgeyBVSSB9IGZyb20gJy4vQ29tcG9uZW50cy9VSS5qcyc7XHJcbmNsYXNzIFVJTWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihnYW1lKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcclxuICAgICAgICB0aGlzLnN1Z2FyQ291bnRlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLnN1Z2FyQ291bnRlckVsZW1lbnQuaWQgPSAnc3VnYXJDb3VudGVyJztcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuc3VnYXJDb3VudGVyRWxlbWVudCk7XHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgdGhpcy5zY29yZUNvdW50ZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy5zY29yZUNvdW50ZXJFbGVtZW50LmlkID0gJ3Njb3JlQ291bnRlcic7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnNjb3JlQ291bnRlckVsZW1lbnQpO1xyXG4gICAgICAgIC8vIENyZWF0ZSBhbmQgYXBwZW5kIGRyb3AgY291bnRlciBlbGVtZW50XHJcbiAgICAgICAgdGhpcy5kcm9wQ291bnRlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLmRyb3BDb3VudGVyRWxlbWVudC5pZCA9ICdkcm9wQ291bnRlcic7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRyb3BDb3VudGVyRWxlbWVudCk7XHJcbiAgICAgICAgLy8gQ3JlYXRlIGFuZCBhcHBlbmQgY29va2llIGNvdW50ZXIgZWxlbWVudFxyXG4gICAgICAgIHRoaXMuY29va2llQ291bnRlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLmNvb2tpZUNvdW50ZXJFbGVtZW50LmlkID0gJ2Nvb2tpZUNvdW50ZXInO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5jb29raWVDb3VudGVyRWxlbWVudCk7XHJcbiAgICAgICAgLy8gQ3JlYXRlIGFuZCBhcHBlbmQgY3VwY2FrZSBjb3VudGVyIGVsZW1lbnRcclxuICAgICAgICB0aGlzLmN1cGNha2VDb3VudGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMuY3VwY2FrZUNvdW50ZXJFbGVtZW50LmlkID0gJ2N1cGNha2VDb3VudGVyJztcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuY3VwY2FrZUNvdW50ZXJFbGVtZW50KTtcclxuICAgICAgICAvLyBDcmVhdGUgYW5kIGFwcGVuZCBkb251dCBjb3VudGVyIGVsZW1lbnRcclxuICAgICAgICB0aGlzLmRvbnV0Q291bnRlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLmRvbnV0Q291bnRlckVsZW1lbnQuaWQgPSAnZG9udXRDb3VudGVyJztcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZG9udXRDb3VudGVyRWxlbWVudCk7XHJcbiAgICAgICAgLy8gQ2hvY29sYXRlXHJcbiAgICAgICAgdGhpcy5jaG9jb2xhdGVDb3VudGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMuY2hvY29sYXRlQ291bnRlckVsZW1lbnQuaWQgPSAnY2hvY29sYXRlQ291bnRlcic7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNob2NvbGF0ZUNvdW50ZXJFbGVtZW50KTtcclxuICAgICAgICAvL1BpZVxyXG4gICAgICAgIHRoaXMucGllQ291bnRlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLnBpZUNvdW50ZXJFbGVtZW50LmlkID0gJ3BpZUNvdW50ZXInO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5waWVDb3VudGVyRWxlbWVudCk7XHJcbiAgICAgICAgLy9Db2xhXHJcbiAgICAgICAgdGhpcy5jb2xhQ291bnRlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLmNvbGFDb3VudGVyRWxlbWVudC5pZCA9ICdjb2xhQ291bnRlcic7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNvbGFDb3VudGVyRWxlbWVudCk7XHJcbiAgICAgICAgLy9DYWtlXHJcbiAgICAgICAgdGhpcy5jYWtlQ291bnRlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLmNha2VDb3VudGVyRWxlbWVudC5pZCA9ICdjYWtlQ291bnRlcic7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNha2VDb3VudGVyRWxlbWVudCk7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBVSVxyXG4gICAgICAgIHRoaXMudXBkYXRlU2NvcmUoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVN1Z2FyQ291bnRlcigpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRHJvcENvdW50ZXIoNik7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDb29raWVDb3VudGVyKHRoaXMuZ2FtZS5jb29raWVDb3VudCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDdXBjYWtlQ291bnRlcih0aGlzLmdhbWUuY3VwY2FrZUNvdW50KTtcclxuICAgICAgICB0aGlzLnVwZGF0ZURvbnV0Q291bnRlcih0aGlzLmdhbWUuZG9udXRDb3VudCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDaG9jb2xhdGVDb3VudGVyKHRoaXMuZ2FtZS5jaG9jb2xhdGVDb3VudCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVQaWVDb3VudGVyKHRoaXMuZ2FtZS5waWVDb3VudCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDb2xhQ291bnRlcih0aGlzLmdhbWUuY29sYUNvdW50KTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUNha2VDb3VudGVyKHRoaXMuZ2FtZS5jYWtlQ291bnQpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlU3VnYXJDb3VudGVyKCkge1xyXG4gICAgICAgIHRoaXMuc3VnYXJDb3VudGVyRWxlbWVudC50ZXh0Q29udGVudCA9IGBTdWdhcjogJHt0aGlzLmdhbWUuc3VnYXJ9YDtcclxuICAgIH1cclxuICAgIHVwZGF0ZVNjb3JlKCkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJ1cGRhdGVTY29yZSBcIiwgdGhpcy5nYW1lLnNjb3JlKTtcclxuICAgICAgICB0aGlzLnNjb3JlQ291bnRlckVsZW1lbnQudGV4dENvbnRlbnQgPSBgU2NvcmU6ICR7dGhpcy5nYW1lLnNjb3JlfWA7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVEcm9wQ291bnRlcihhdmFpbGFibGVEcm9wcykge1xyXG4gICAgICAgIHRoaXMuZHJvcENvdW50ZXJFbGVtZW50LnRleHRDb250ZW50ID0gYERyb3BzOiAke2F2YWlsYWJsZURyb3BzfS82YDtcclxuICAgIH1cclxuICAgIHVwZGF0ZUNvb2tpZUNvdW50ZXIoKSB7XHJcbiAgICAgICAgdGhpcy5jb29raWVDb3VudGVyRWxlbWVudC50ZXh0Q29udGVudCA9IGAke3RoaXMuZ2FtZS5jb29raWVDb3VudH1gO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlQ3VwY2FrZUNvdW50ZXIoKSB7XHJcbiAgICAgICAgdGhpcy5jdXBjYWtlQ291bnRlckVsZW1lbnQudGV4dENvbnRlbnQgPSBgJHt0aGlzLmdhbWUuY3VwY2FrZUNvdW50fWA7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVEb251dENvdW50ZXIoKSB7XHJcbiAgICAgICAgdGhpcy5kb251dENvdW50ZXJFbGVtZW50LnRleHRDb250ZW50ID0gYCR7dGhpcy5nYW1lLmRvbnV0Q291bnR9YDtcclxuICAgIH1cclxuICAgIHVwZGF0ZUNob2NvbGF0ZUNvdW50ZXIoKSB7XHJcbiAgICAgICAgdGhpcy5jaG9jb2xhdGVDb3VudGVyRWxlbWVudC50ZXh0Q29udGVudCA9IGAke3RoaXMuZ2FtZS5jaG9jb2xhdGVDb3VudH1gO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlUGllQ291bnRlcigpIHtcclxuICAgICAgICB0aGlzLnBpZUNvdW50ZXJFbGVtZW50LnRleHRDb250ZW50ID0gYCR7dGhpcy5nYW1lLnBpZUNvdW50fWA7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVDb2xhQ291bnRlcigpIHtcclxuICAgICAgICB0aGlzLmNvbGFDb3VudGVyRWxlbWVudC50ZXh0Q29udGVudCA9IGAke3RoaXMuZ2FtZS5jb2xhQ291bnR9YDtcclxuICAgIH1cclxuICAgIHVwZGF0ZUNha2VDb3VudGVyKCkge1xyXG4gICAgICAgIHRoaXMuY2FrZUNvdW50ZXJFbGVtZW50LnRleHRDb250ZW50ID0gYCR7dGhpcy5nYW1lLmNha2VDb3VudH1gO1xyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuZXhwb3J0IHsgVUlNYW5hZ2VyIH07XHJcbiIsIi8vIFNvdW5kTWFuYWdlci5qc1xyXG5jbGFzcyBTb3VuZE1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IoZ2FtZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcbiAgICAgICAgdGhpcy5pbml0U291bmQoKTtcclxuICAgIH1cclxuICAgIGluaXRTb3VuZCgpIHtcclxuICAgICAgICB0aGlzLmdhbWUud2FsbE1vdmVTb3VuZCA9IG5ldyBCQUJZTE9OLlNvdW5kKFwid2FsbE1vdmVcIiwgXCIuLi9hc3NldHMvc291bmQvd2FsbE1vdmUubXAzXCIsIHRoaXMuc2NlbmUsIHtcclxuICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgICAgICAgICB2b2x1bWU6IDEsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICB0aGlzLmdhbWUud2FsbE1vdmVGaW5pc2hTb3VuZCA9IG5ldyBCQUJZTE9OLlNvdW5kKFwid2FsbE1vdmVGaW5pc2hcIiwgXCIuLi9hc3NldHMvc291bmQvd2FsbE1vdmVGaW5pc2gubXAzXCIsIHRoaXMuc2NlbmUsIHtcclxuICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgICAgICAgICB2b2x1bWU6IDEsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nYW1lLmNsaWNrU291bmQgPSBuZXcgQkFCWUxPTi5Tb3VuZChcImNsaWNrXCIsIFwiLi4vYXNzZXRzL3NvdW5kL2NsaWNrLm1wM1wiLCB0aGlzLnNjZW5lLCB7XHJcbiAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgdm9sdW1lOiAxLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2FtZS50aHVkU291bmQgPSBuZXcgQkFCWUxPTi5Tb3VuZChcInRodWRcIiwgXCIuLi9hc3NldHMvL3NvdW5kL3RodWQubXAzXCIsIHRoaXMuc2NlbmUsIHtcclxuICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgICAgICAgICB2b2x1bWU6IDEsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nYW1lLmdldFNvdW5kID0gbmV3IEJBQllMT04uU291bmQoXCJnZXRcIiwgXCIuLi9hc3NldHMvc291bmQvZ2V0Lm1wM1wiLCB0aGlzLnNjZW5lLCB7XHJcbiAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgdm9sdW1lOiAxLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5nZXRUcmVhdFNvdW5kID0gbmV3IEJBQllMT04uU291bmQoXCJnZXRcIiwgXCIuLi9hc3NldHMvc291bmQvZ2V0VHJlYXQubXAzXCIsIHRoaXMuc2NlbmUsIHtcclxuICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgICAgICAgICB2b2x1bWU6IDEsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nYW1lLmRyb3BUcmVhdFNvdW5kID0gbmV3IEJBQllMT04uU291bmQoXCJnZXRcIiwgXCIuLi9hc3NldHMvc291bmQvZHJvcFRyZWF0Lm1wM1wiLCB0aGlzLnNjZW5lLCB7XHJcbiAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgdm9sdW1lOiAxLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5kcm9wVHJlYXQyU291bmQgPSBuZXcgQkFCWUxPTi5Tb3VuZChcImdldFwiLCBcIi4uL2Fzc2V0cy9zb3VuZC9kcm9wVHJlYXQyLm1wM1wiLCB0aGlzLnNjZW5lLCB7XHJcbiAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgdm9sdW1lOiAxLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5wb29mU291bmQgPSBuZXcgQkFCWUxPTi5Tb3VuZChcImdldFwiLCBcIi4uL2Fzc2V0cy9zb3VuZC9wb29mLm1wM1wiLCB0aGlzLnNjZW5lLCB7XHJcbiAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgdm9sdW1lOiAuNSxcclxuICAgICAgICAgICAgbG9vcDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL0dldCBTb3VuZHNcclxuICAgICAgICB0aGlzLmdhbWUuZ2V0MVNvdW5kID0gbmV3IEJBQllMT04uU291bmQoXCJnZXQxXCIsIFwiLi4vYXNzZXRzL3NvdW5kL2dldDEubXAzXCIsIHRoaXMuc2NlbmUsIHtcclxuICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgICAgICAgICB2b2x1bWU6IDEsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nYW1lLmdldDJTb3VuZCA9IG5ldyBCQUJZTE9OLlNvdW5kKFwiZ2V0MlwiLCBcIi4uL2Fzc2V0cy9zb3VuZC9nZXQyLm1wM1wiLCB0aGlzLnNjZW5lLCB7XHJcbiAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgdm9sdW1lOiAxLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5nZXQzU291bmQgPSBuZXcgQkFCWUxPTi5Tb3VuZChcImdldDNcIiwgXCIuLi9hc3NldHMvc291bmQvZ2V0My5tcDNcIiwgdGhpcy5zY2VuZSwge1xyXG4gICAgICAgICAgICBhdXRvcGxheTogZmFsc2UsXHJcbiAgICAgICAgICAgIHZvbHVtZTogMSxcclxuICAgICAgICAgICAgbG9vcDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmdhbWUuZ2V0NFNvdW5kID0gbmV3IEJBQllMT04uU291bmQoXCJnZXQ0XCIsIFwiLi4vYXNzZXRzL3NvdW5kL2dldDQubXAzXCIsIHRoaXMuc2NlbmUsIHtcclxuICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgICAgICAgICB2b2x1bWU6IDEsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nYW1lLmdldDVTb3VuZCA9IG5ldyBCQUJZTE9OLlNvdW5kKFwiZ2V0NVwiLCBcIi4uL2Fzc2V0cy9zb3VuZC9nZXQ1Lm1wM1wiLCB0aGlzLnNjZW5lLCB7XHJcbiAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgdm9sdW1lOiAxLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5nZXQ2U291bmQgPSBuZXcgQkFCWUxPTi5Tb3VuZChcImdldDZcIiwgXCIuLi9hc3NldHMvc291bmQvZ2V0Ni5tcDNcIiwgdGhpcy5zY2VuZSwge1xyXG4gICAgICAgICAgICBhdXRvcGxheTogZmFsc2UsXHJcbiAgICAgICAgICAgIHZvbHVtZTogMSxcclxuICAgICAgICAgICAgbG9vcDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmdhbWUuZ2V0N1NvdW5kID0gbmV3IEJBQllMT04uU291bmQoXCJnZXQ3XCIsIFwiLi4vYXNzZXRzL3NvdW5kL2dldDcubXAzXCIsIHRoaXMuc2NlbmUsIHtcclxuICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgICAgICAgICB2b2x1bWU6IDEsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nYW1lLmdldDhTb3VuZCA9IG5ldyBCQUJZTE9OLlNvdW5kKFwiZ2V0OFwiLCBcIi4uL2Fzc2V0cy9zb3VuZC9nZXQ4Lm1wM1wiLCB0aGlzLnNjZW5lLCB7XHJcbiAgICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgdm9sdW1lOiAxLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5nZXQ5U291bmQgPSBuZXcgQkFCWUxPTi5Tb3VuZChcImdldDlcIiwgXCIuLi9hc3NldHMvc291bmQvZ2V0OS5tcDNcIiwgdGhpcy5zY2VuZSwge1xyXG4gICAgICAgICAgICBhdXRvcGxheTogZmFsc2UsXHJcbiAgICAgICAgICAgIHZvbHVtZTogMSxcclxuICAgICAgICAgICAgbG9vcDogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmdhbWUuZ2V0MTBTb3VuZCA9IG5ldyBCQUJZTE9OLlNvdW5kKFwiZ2V0MTBcIiwgXCIuLi9hc3NldHMvc291bmQvZ2V0MTAubXAzXCIsIHRoaXMuc2NlbmUsIHtcclxuICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgICAgICAgICB2b2x1bWU6IDEsXHJcbiAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgU291bmRNYW5hZ2VyIH07XHJcbiIsIi8vIENvb2tpZU1ha2VyTWFuYWdlci5qc1xyXG5jbGFzcyBDb29raWVNYWtlck1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IoZ2FtZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICAgdGhpcy5jbGlja3MgPSAwO1xyXG4gICAgICAgIHRoaXMuY2xpY2tzVG9NYWtlQ29va2llID0gODtcclxuICAgIH1cclxuICAgIGluaXQoKSB7XHJcbiAgICB9XHJcbiAgICBtYWtlQ29va2llKCl7XHJcbiAgICAgICAgdGhpcy5jbGlja3MrKztcclxuICAgICAgICBpZih0aGlzLmNsaWNrcyA+PSB0aGlzLmNsaWNrc1RvTWFrZUNvb2tpZSl7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5jb29raWVDb3VudCsrO1xyXG4gICAgICAgICAgICB0aGlzLmNsaWNrcyA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS51aU1hbmFnZXIudXBkYXRlQ29va2llQ291bnRlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZygnQ0xJQ0shJylcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBDb29raWVNYWtlck1hbmFnZXIgfTtcclxuIiwiaW1wb3J0IHsgU2NlbmVNYW5hZ2VyIH0gZnJvbSAnLi9NYW5hZ2Vycy9TY2VuZU1hbmFnZXIuanMnO1xyXG5pbXBvcnQgeyBNYXRlcmlhbE1hbmFnZXIgfSBmcm9tICcuL01hbmFnZXJzL01hdGVyaWFsTWFuYWdlci5qcyc7XHJcbmltcG9ydCB7IEdhbWVPYmplY3RNYW5hZ2VyIH0gZnJvbSAnLi9NYW5hZ2Vycy9HYW1lT2JqZWN0TWFuYWdlci5qcyc7XHJcbmltcG9ydCB7IE9iamVjdHMgfSBmcm9tICcuL0NvbXBvbmVudHMvT2JqZWN0cy5qcyc7XHJcbmltcG9ydCB7IFBsYXRmb3JtIH0gZnJvbSAnLi9Db21wb25lbnRzL1BsYXRmb3JtLmpzJztcclxuaW1wb3J0IHsgRHJvcE1hbmFnZXIgfSBmcm9tICcuL01hbmFnZXJzL0Ryb3BNYW5hZ2VyLmpzJztcclxuaW1wb3J0IHsgQ29pblBpcGVNYW5hZ2VyIH0gZnJvbSAnLi9NYW5hZ2Vycy9Db2luUGlwZU1hbmFnZXIuanMnO1xyXG5pbXBvcnQgeyBMZXZlbE1hbmFnZXIgfSBmcm9tICcuL01hbmFnZXJzL0xldmVsTWFuYWdlci5qcyc7XHJcbmltcG9ydCB7IFVJTWFuYWdlciB9IGZyb20gJy4vTWFuYWdlcnMvVUlNYW5hZ2VyLmpzJztcclxuaW1wb3J0IHsgU291bmRNYW5hZ2VyIH0gZnJvbSAnLi9NYW5hZ2Vycy9Tb3VuZE1hbmFnZXIuanMnO1xyXG5pbXBvcnQgeyBDb29raWVNYWtlck1hbmFnZXIgfSBmcm9tICcuL01hbmFnZXJzL0Nvb2tpZU1ha2VyTWFuYWdlci5qcyc7XHJcbmNsYXNzIEdhbWUge1xyXG4gICAgY29uc3RydWN0b3IoY2FudmFzSWQpIHtcclxuICAgICAgICB0aGlzLmRlYnVnTW9kZSA9IHRydWU7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnRCdXR0b24nKTtcclxuICAgICAgICBpZiAoc3RhcnRCdXR0b24pIHtcclxuICAgICAgICAgICAgc3RhcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0R2FtZSgpOyAvLyBDYWxsIGEgZnVuY3Rpb24gdG8gc3RhcnQgdGhlIGdhbWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50aHVkU291bmQucGxheSgpO1xyXG4gICAgICAgICAgICB0aGlzLnRodWRTb3VuZC5wYXVzZSgpO1xyXG4gICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4gdGhpcy5vbktleURvd24oZXZlbnQpKTtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbnZhc0lkKTtcclxuICAgICAgICB0aGlzLmVuZ2luZSA9IG5ldyBCQUJZTE9OLkVuZ2luZSh0aGlzLmNhbnZhcywgdHJ1ZSwgeyBhbnRpYWxpYXM6IHRydWUsIGFsbG93U2xlZXA6IHRydWUsIHNsZWVwVGltZUxpbWl0OiAyIH0pO1xyXG4gICAgICAgIHRoaXMuY29va2llQ291bnQgPSA1MDtcclxuICAgICAgICB0aGlzLmN1cGNha2VDb3VudCA9IDEwO1xyXG4gICAgICAgIHRoaXMuZG9udXRDb3VudCA9IDEwO1xyXG4gICAgICAgIHRoaXMuY2hvY29sYXRlQ291bnQgPSAxMDtcclxuICAgICAgICB0aGlzLnBpZUNvdW50ID0gMTA7XHJcbiAgICAgICAgdGhpcy5jb2xhQ291bnQgPSAxMDtcclxuICAgICAgICB0aGlzLmNha2VDb3VudCA9IDEwO1xyXG4gICAgICAgIHRoaXMuc2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMuc3VnYXIgPSAwO1xyXG4gICAgICAgIHRoaXMud2FsbFRva2VucyA9IDEwMDtcclxuICAgICAgICB0aGlzLndhbGxzVXAgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLndhbGxzRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2NlbmVNYW5hZ2VyID0gbmV3IFNjZW5lTWFuYWdlcih0aGlzLmVuZ2luZSwgdGhpcy5jYW52YXMpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSB0aGlzLnNjZW5lTWFuYWdlci5nZXRTY2VuZSgpO1xyXG4gICAgICAgIHRoaXMudWlNYW5hZ2VyID0gbmV3IFVJTWFuYWdlcih0aGlzKTtcclxuICAgICAgICB0aGlzLmNvb2tpZU1ha2VyID0gbmV3IENvb2tpZU1ha2VyTWFuYWdlcih0aGlzKTtcclxuICAgICAgICB0aGlzLmF1ZGlvQ29udGV4dCA9IG5ldyAod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSgpO1xyXG4gICAgICAgIHRoaXMuamluZ2xlMiA9IFsyNjEuNjMsIDI5My42NiwgMzI5LjYzLCAzNDkuMjMsIDM5Mi4wMCwgNDQwLjAwLCA0OTMuODgsIDUyMy4yNV07IC8vIEM0IHRvIEU0XHJcbiAgICAgICAgdGhpcy5zb3VuZE1hbmFnZXIgPSBuZXcgU291bmRNYW5hZ2VyKHRoaXMpO1xyXG4gICAgICAgIHRoaXMubWF0ZXJpYWxNYW5hZ2VyID0gbmV3IE1hdGVyaWFsTWFuYWdlcih0aGlzLnNjZW5lKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3RNYW5hZ2VyID0gbmV3IEdhbWVPYmplY3RNYW5hZ2VyKHRoaXMuc2NlbmUsIHRoaXMubWF0ZXJpYWxNYW5hZ2VyLCB0aGlzKVxyXG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBuZXcgUGxhdGZvcm0odGhpcy5zY2VuZSwgdGhpcy5tYXRlcmlhbE1hbmFnZXIsIHRoaXMpO1xyXG5cclxuICAgICAgICBjb25zdCBwbGF0Zm9ybSA9IHRoaXMucGxhdGZvcm0uY3JlYXRlKCk7XHJcbiAgICAgICAgY29uc3QgcGxhdGZvcm1JbXBvc3RvciA9IHBsYXRmb3JtLnBoeXNpY3NJbXBvc3RvcjtcclxuXHJcbiAgICAgICAgY29uc3QgcHVzaGVyID0gdGhpcy5nYW1lT2JqZWN0TWFuYWdlci5jcmVhdGVQdXNoZXIoKTtcclxuICAgICAgICBjb25zdCBwdXNoZXJJbXBvc3RvciA9IHB1c2hlci5waHlzaWNzSW1wb3N0b3I7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZU9iamVjdE1hbmFnZXIuY3JlYXRlR29hbFBsYW5lKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lT2JqZWN0TWFuYWdlci5jcmVhdGVDYXB0dXJlUGxhbmUoKTtcclxuICAgICAgICB0aGlzLmdhbWVPYmplY3RNYW5hZ2VyLmxvYWRQbGF0Zm9ybU1vZGVsKCk7XHJcbiAgICAgICAgdGhpcy5kcm9wTWFuYWdlciA9IG5ldyBEcm9wTWFuYWdlcih0aGlzLnNjZW5lLCB0aGlzLm1hdGVyaWFsTWFuYWdlciwgcGxhdGZvcm1JbXBvc3RvciwgdGhpcywgcHVzaGVySW1wb3N0b3IpO1xyXG4gICAgICAgIHRoaXMuY29pblBpcGVNYW5hZ2VyID0gbmV3IENvaW5QaXBlTWFuYWdlcih0aGlzLnNjZW5lLCB0aGlzLm1hdGVyaWFsTWFuYWdlciwgdGhpcy5kcm9wTWFuYWdlciwgdGhpcyk7XHJcbiAgICAgICAgLy8gU3RhcnQgdGhlIGdhbWUgbG9vcFxyXG4gICAgICAgIHRoaXMuX3N0YXJ0R2FtZUxvb3AoKTtcclxuICAgICAgICB0aGlzLl9zZXR1cEJ1dHRvbnMoKTtcclxuICAgICAgICBjb25zdCBsZXZlbE1hbmFnZXIgPSBuZXcgTGV2ZWxNYW5hZ2VyKHRoaXMuc2NlbmUsIHRoaXMpO1xyXG4gICAgICAgIC8vL2luaXQgbGV2ZWwgMVxyXG4gICAgICAgIGxldmVsTWFuYWdlci5sZXZlbFN5c3RlbSgoY29va2llcykgPT4ge1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBkb0FUaGluZygpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnZGlkIGEgdGhpbmcnKVxyXG4gICAgfVxyXG4gICAgb25LZXlEb3duKGV2ZW50KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJvbktleURvd24gb25LZXlEb3duXCIpO1xyXG4gICAgICAgIC8vIFBsYXkgdGhlIHNvdW5kIHdoZW4gdGhlICdQJyBrZXkgaXMgcHJlc3NlZFxyXG4gICAgICAgIGlmIChldmVudC5rZXkgPT09ICdxJykge1xyXG4gICAgICAgICAgICB0aGlzLnRodWRTb3VuZC5wbGF5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0U291bmQucGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9zdGFydEdhbWVMb29wKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLnJ1blJlbmRlckxvb3AoKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgdGhpcy5nYW1lT2JqZWN0TWFuYWdlci51cGRhdGVQdXNoZXIoKTsgLy8gVXBkYXRlIHRoZSBwdXNoZXIncyBwb3NpdGlvblxyXG4gICAgICAgICAgICB0aGlzLmNvaW5QaXBlTWFuYWdlci51cGRhdGVDb2luUGlwZSgpOyAvLyBVcGRhdGUgdGhlIGNvaW4gcGlwZSdzIHBvc2l0aW9uXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucmVuZGVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfc2V0dXBCdXR0b25zKCkge1xyXG4gICAgICAgIGNvbnN0IGRyb3BDb29raWVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcENvb2tpZUJ1dHRvbicpO1xyXG4gICAgICAgIGlmIChkcm9wQ29va2llQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIGRyb3BDb29raWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvaW5QaXBlTWFuYWdlci5kcm9wQ29pbkZyb21QaXBlKHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbWFrZUNvb2tpZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWtlQ29va2llQnV0dG9uJyk7XHJcbiAgICAgICAgaWYgKG1ha2VDb29raWVCdXR0b24pIHtcclxuICAgICAgICAgICAgbWFrZUNvb2tpZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29va2llTWFrZXIubWFrZUNvb2tpZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlja1NvdW5kLnBsYXkoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRyb3BEb251dEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wRG9udXRCdXR0b24nKTtcclxuICAgICAgICBpZiAoZHJvcERvbnV0QnV0dG9uKSB7XHJcbiAgICAgICAgICAgIGRyb3BEb251dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJvcE1hbmFnZXIuZHJvcERvbnV0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkcm9wQ3VwY2FrZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wQ3VwY2FrZUJ1dHRvbicpO1xyXG4gICAgICAgIGlmIChkcm9wQ3VwY2FrZUJ1dHRvbikge1xyXG4gICAgICAgICAgICBkcm9wQ3VwY2FrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJvcE1hbmFnZXIuZHJvcEN1cGNha2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRyb3BDaG9jb2xhdGVCYXJCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcENob2NvbGF0ZUJhckJ1dHRvbicpO1xyXG4gICAgICAgIGlmIChkcm9wQ2hvY29sYXRlQmFyQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIGRyb3BDaG9jb2xhdGVCYXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcm9wTWFuYWdlci5kcm9wQ2hvY29sYXRlQmFyKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkcm9wUGllQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ryb3BQaWVCdXR0b24nKTtcclxuICAgICAgICBpZiAoZHJvcFBpZUJ1dHRvbikge1xyXG4gICAgICAgICAgICBkcm9wUGllQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJvcE1hbmFnZXIuZHJvcFBpZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZHJvcENvbGFCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcENvbGFCdXR0b24nKTtcclxuICAgICAgICBpZiAoZHJvcENvbGFCdXR0b24pIHtcclxuICAgICAgICAgICAgZHJvcENvbGFCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcm9wTWFuYWdlci5kcm9wQ29sYSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZHJvcENha2VCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcENha2VCdXR0b24nKTtcclxuICAgICAgICBpZiAoZHJvcENha2VCdXR0b24pIHtcclxuICAgICAgICAgICAgZHJvcENha2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcm9wTWFuYWdlci5kcm9wQ2FrZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8vV2FsbCBVcFxyXG4gICAgICAgIGNvbnN0IHdhbGxCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FsbEJ1dHRvbicpO1xyXG4gICAgICAgIGlmICh3YWxsQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIHdhbGxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGxhdGZvcm0ud2FsbHMud2FsbHNVcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2FsbE1vdmVTb3VuZC5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF0Zm9ybS53YWxscy5yYWlzZVdhbGxzV2l0aFR3ZWVuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxhdGZvcm0ud2FsbHMud2FsbFJhaXNlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHRoaXMucGxhdGZvcm0ud2FsbHMud2FsbFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYmlnUHVzaEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiaWdQdXNoQnV0dG9uJyk7XHJcbiAgICAgICAgaWYgKGJpZ1B1c2hCdXR0b24pIHtcclxuICAgICAgICAgICAgYmlnUHVzaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU9iamVjdE1hbmFnZXIucHVzaGVyLmJpZ1B1c2goKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRvZ2dsZUNhbWVyYUxvY2tCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlQ2FtZXJhTG9ja0J1dHRvbicpO1xyXG4gICAgICAgIGlmICh0b2dnbGVDYW1lcmFMb2NrQnV0dG9uKSB7XHJcbiAgICAgICAgICAgIHRvZ2dsZUNhbWVyYUxvY2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lTWFuYWdlci5jYW1lcmFMb2NrKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5jb25zdCBnYW1lID0gbmV3IEdhbWUoJ3JlbmRlckNhbnZhcycpO1xyXG5leHBvcnQgeyBHYW1lIH07XHJcbiJdLCJuYW1lcyI6WyJTY2VuZU1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsImVuZ2luZSIsImNhbnZhcyIsInRoaXMiLCJzY2VuZSIsIkJBQllMT04iLCJTY2VuZSIsImVuYWJsZVBoeXNpY3MiLCJWZWN0b3IzIiwiQ2Fubm9uSlNQbHVnaW4iLCJfc2V0dXBMaWdodGluZyIsIl9zZXR1cENhbWVyYSIsImNhbWVyYUxvY2tlZCIsImNhbWVyYSIsImNhbWVyYUxvY2siLCJjb25zb2xlIiwibG9nIiwiYXR0YWNoQ29udHJvbCIsImRldGFjaENvbnRyb2wiLCJIZW1pc3BoZXJpY0xpZ2h0IiwiaW50ZW5zaXR5IiwiQXJjUm90YXRlQ2FtZXJhIiwiTWF0aCIsIlBJIiwidGFyZ2V0IiwieSIsImZvdiIsImFzcGVjdFJhdGlvIiwid2lkdGgiLCJoZWlnaHQiLCJnZXRTY2VuZSIsIk1hdGVyaWFsTWFuYWdlciIsIndhbGxNYXRlcmlhbCIsInB1c2hlck1hdGVyaWFsIiwiY29pbk1hdGVyaWFscyIsIm9iamVjdE1hdGVyaWFscyIsIl9jcmVhdGVNYXRlcmlhbHMiLCJjb2xsaXNpb25Cb3hNYXRlcmlhbCIsIlN0YW5kYXJkTWF0ZXJpYWwiLCJkaWZmdXNlQ29sb3IiLCJDb2xvcjMiLCJnZXRNYXRlcmlhbCIsIm5hbWUiLCJQdXNoZXIiLCJtYXRlcmlhbE1hbmFnZXIiLCJnYW1lIiwicHVzaGVyU3BlZWQiLCJwdXNoZXJEaXJlY3Rpb24iLCJwdXNoZXJMaW1pdEZyb250IiwicHVzaGVyTGltaXRCYWNrIiwiZnJhbWVSYXRlIiwiY3JlYXRlUHVzaGVyIiwicHVzaGVyIiwiTWVzaEJ1aWxkZXIiLCJDcmVhdGVCb3giLCJkZXB0aCIsInBvc2l0aW9uIiwieiIsIm1hdGVyaWFsIiwicGh5c2ljc0ltcG9zdG9yIiwiUGh5c2ljc0ltcG9zdG9yIiwiQm94SW1wb3N0b3IiLCJtYXNzIiwicmVzdGl0dXRpb24iLCJmcmljdGlvbiIsInB1c2hlclBhcmVudCIsIk1lc2giLCJhZGRDaGlsZCIsInVwZGF0ZVB1c2hlciIsInpTbGlkZSIsIkFuaW1hdGlvbiIsIkFOSU1BVElPTlRZUEVfRkxPQVQiLCJBTklNQVRJT05MT09QTU9ERV9DWUNMRSIsImtleUZyYW1lczEiLCJwdXNoIiwiZnJhbWUiLCJ2YWx1ZSIsInNldEtleXMiLCJhbmltYXRpb25zIiwiYmVnaW5BbmltYXRpb24iLCJiaWdQdXNoIiwic2V0VGltZW91dCIsIkdvYWwiLCJib251c1dpbmRvd0FjdGl2ZSIsImJvbnVzV2luZG93VGltZXIiLCJib251c0NvdW50IiwiZ2V0VHJlYXQiLCJpbml0IiwiY2hlY2tHb2FsIiwiY29sbGlkZWRPYmplY3QiLCJoYW5kbGVCb251c1dpbmRvdyIsIm9iak5hbWUiLCJpc0NvdW50ZWQiLCJzY29yZSIsImNvb2tpZUNvdW50IiwidWlNYW5hZ2VyIiwidXBkYXRlQ29va2llQ291bnRlciIsImN1cGNha2VDb3VudCIsInVwZGF0ZUN1cGNha2VDb3VudGVyIiwiZG9udXRDb3VudCIsInVwZGF0ZURvbnV0Q291bnRlciIsImNob2NvbGF0ZUNvdW50IiwidXBkYXRlQ2hvY29sYXRlQ291bnRlciIsInBpZUNvdW50IiwidXBkYXRlUGllQ291bnRlciIsImdldDFTb3VuZCIsInBsYXkiLCJnZXQyU291bmQiLCJnZXQzU291bmQiLCJnZXQ0U291bmQiLCJnZXQ1U291bmQiLCJnZXQ2U291bmQiLCJnZXQ3U291bmQiLCJnZXQ4U291bmQiLCJnZXQ5U291bmQiLCJnZXQxMFNvdW5kIiwiZ2V0VHJlYXRTb3VuZCIsImRpc3Bvc2UiLCJ1cGRhdGVTY29yZSIsImhhbmRsZURyb3BSZXdhcmRzIiwicG9zIiwiZHJvcE1hbmFnZXIiLCJkcm9wQ29va2llIiwiZHJvcFRyZWF0U291bmQiLCJkcm9wQ3VwY2FrZSIsImRyb3BUcmVhdDJTb3VuZCIsImRyb3BEb251dCIsImRyb3BDaG9jb2xhdGVCYXIiLCJkcm9wUGllIiwiR2FtZU9iamVjdE1hbmFnZXIiLCJnb2FsIiwiY3JlYXRlQ2FwdHVyZVBsYW5lIiwiY2FwdHVyZVBsYW5lIiwiQ3JlYXRlR3JvdW5kIiwia2luZW1hdGljIiwicmVnaXN0ZXJPblBoeXNpY3NDb2xsaWRlIiwiZ2V0UGh5c2ljc0VuZ2luZSIsImdldEltcG9zdG9ycyIsIm1haW4iLCJjb2xsaWRlZCIsIm9iamVjdCIsImlzVmlzaWJsZSIsImNyZWF0ZUdvYWxQbGFuZSIsImdvYWxQbGFuZSIsImxvYWRQbGF0Zm9ybU1vZGVsIiwiU2NlbmVMb2FkZXIiLCJJbXBvcnRNZXNoIiwibWVzaGVzIiwibGVuZ3RoIiwiZ2FtZVBsYXRmb3JtIiwicm90YXRpb24iLCJaZXJvIiwic2V0UGl2b3RNYXRyaXgiLCJNYXRyaXgiLCJUcmFuc2xhdGlvbiIsInNjYWxpbmciLCJXYWxscyIsIndhbGxEb3duUG9zaXRpb24iLCJ3YWxsVXBQb3NpdGlvbiIsIndhbGxTcGVlZCIsIndhbGxEaXJlY3Rpb24iLCJ3YWxsVGltZXIiLCJ3YWxsc1VwIiwid2FsbFRpbWUiLCJ3YWxsTW92aW5nIiwiRGVzaWduV2FsbHMiLCJjcmVhdGVXYWxsIiwid2FsbEhlaWdodCIsIndhbGxEZXB0aCIsIngiLCJyaWdodFdhbGwiLCJsZWZ0V2FsbCIsImxlZnRXYWxsUGFyZW50IiwicmlnaHRXYWxsUGFyZW50Iiwib3B0aW9ucyIsIndhbGwiLCJyYWlzZVdhbGxzV2l0aFR3ZWVuIiwicmFpc2VBbmltYXRpb24iLCJBTklNQVRJT05MT09QTU9ERV9DT05TVEFOVCIsIkVBU0lOR01PREVfRUFTRUlOT1VUIiwia2V5RnJhbWVzIiwib25BbmltYXRpb25FbmQiLCJ3YWxsUmFpc2VkIiwid2FsbE1vdmVGaW5pc2hTb3VuZCIsImxvd2VyV2FsbHNXaXRoVHdlZW4iLCJ3YWxsTW92ZVNvdW5kIiwibG93ZXJBbmltYXRpb24iLCJiZWdpbkRpcmVjdEFuaW1hdGlvbiIsIlBsYXRmb3JtIiwiY3JlYXRlIiwid2FsbHMiLCJtYWluUGxhdGZvcm0iLCJiYWNrU2xvcGUiLCJyaWdodFNsb3BlIiwibGVmdFNsb3BlIiwic2xvcGVzUGh5c2ljc09wdGlvbnMiLCJPYmplY3RzIiwicGxhdGZvcm1JbXBvc3RvciIsImluaXRpYWxpemVNYXN0ZXJDb29raWUiLCJyZXN1bHQiLCJJbXBvcnRNZXNoQXN5bmMiLCJjb29raWVNZXNoIiwiZmluZCIsIm1lc2giLCJpZCIsImdlb21ldHJ5IiwibWFzdGVyQ29va2llIiwic2V0RW5hYmxlZCIsImVycm9yIiwid2FpdEZvclBsYXRmb3JtSW1wb3N0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsImNyZWF0ZUNvb2tpZSIsInBsYXllckRyb3BwZWQiLCJkcm9wUG9zIiwicGxhdGZvcm0iLCJ3YXJuIiwiYXN5bmMiLCJpbm5lclJlc29sdmUiLCJpbml0aWFsQ29sbGlzaW9uIiwiY3lsaW5kZXIiLCJDcmVhdGVDeWxpbmRlciIsImRpYW1ldGVyVG9wIiwiZGlhbWV0ZXJCb3R0b20iLCJ0ZXNzZWxsYXRpb24iLCJDeWxpbmRlckltcG9zdG9yIiwidGh1ZFNvdW5kIiwicGFyZW50IiwiY3JlYXRlRG9udXQiLCJkb251dCIsImNyZWF0ZUN1cGNha2UiLCJjdXBjYWtlIiwiY3JlYXRlQ2hvY29sYXRlQmFyIiwiY2hvY29sYXRlQmFyIiwiYm94IiwiY3JlYXRlUGllIiwicGllIiwiY3JlYXRlUGllQ29sbGlzaW9uQm94IiwiYm94MSIsImJveDIiLCJzbGljZVdpZHRoIiwiYm94MyIsInBpZUNvbGxpc2lvbkJveCIsIk1lcmdlTWVzaGVzIiwidW5kZWZpbmVkIiwiY3JlYXRlQ29sYSIsImNvbGEiLCJjcmVhdGVDYWtlIiwiY2FrZSIsIkRyb3BNYW5hZ2VyIiwibG9hZGVkTW9ua2V5TW9kZWwiLCJzY2FsZUZhY3RvciIsIm9iamVjdHMiLCJsb2FkTW9ua2V5TW9kZWwiLCJkcm9wTW9ua2V5TW9kZWwiLCJtb25rZXlDbG9uZSIsImNsb25lIiwiYm91bmRpbmdCb3giLCJjb29raWUiLCJkcm9wcGluZ0Nvb2tpZXMiLCJ0aGVuIiwiY2F0Y2giLCJkcm9wQ29sYSIsImNvbGFDb3VudCIsInVwZGF0ZUNvbGFDb3VudGVyIiwiZHJvcENha2UiLCJjYWtlQ291bnQiLCJ1cGRhdGVDYWtlQ291bnRlciIsIkNvaW5QaXBlTWFuYWdlciIsIm1heERyb3BzIiwiYXZhaWxhYmxlRHJvcHMiLCJkcm9wQ29vbGRvd24iLCJjb29sZG93blRpbWVyIiwiY29pblBpcGVTcGVlZCIsImNvaW5QaXBlTGltaXQiLCJjb2luUGlwZURpcmVjdGlvbiIsImNyZWF0ZUNvaW5QaXBlIiwidXBkYXRlRHJvcENvdW50ZXIiLCJjb2luUGlwZSIsImRpYW1ldGVyIiwidXBkYXRlQ29pblBpcGUiLCJkcm9wQ29pbkZyb21QaXBlIiwiZHJvcFBvaW50IiwicG9vZlNvdW5kIiwiY29uc3VtZURyb3AiLCJjbGVhclRpbWVvdXQiLCJpbmNyZW1lbnREcm9wIiwicmVzZXREcm9wcyIsIkxldmVsTWFuYWdlciIsImxldmVsIiwibGV2ZWxTeXN0ZW0iLCJjYWxsYmFjayIsImkiLCJudW1Sb3dzIiwibnVtQ29sdW1ucyIsImNvb2tpZVNwYWNpbmciLCJpbml0aWFsWCIsImluaXRpYWxaIiwiaW5pdGlhbFkiLCJjb29raWVzIiwiY3JlYXRlQ29va2llc0ZvclJvdyIsInJvdyIsImNvbCIsInhPZmZzZXQiLCJ6T2Zmc2V0Iiwic2Vjb25kR3JpZFJvd3MiLCJzZWNvbmRHcmlkQ29sdW1ucyIsInNlY29uZEdyaWRTcGFjaW5nIiwic2Vjb25kR3JpZEluaXRpYWxYIiwic2Vjb25kR3JpZEluaXRpYWxaIiwiY3JlYXRlU2Vjb25kR3JpZENvb2tpZXNGb3JSb3ciLCJzZWNvbmRSb3ciLCJzZWNvbmRDb2wiLCJzZWNvbmRYT2Zmc2V0Iiwic2Vjb25kWk9mZnNldCIsInNlY29uZERyb3BQb3MiLCJzZWNvbmRDb29raWUiLCJVSU1hbmFnZXIiLCJzdWdhckNvdW50ZXJFbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYm9keSIsImFwcGVuZENoaWxkIiwic2NvcmVDb3VudGVyRWxlbWVudCIsImRyb3BDb3VudGVyRWxlbWVudCIsImNvb2tpZUNvdW50ZXJFbGVtZW50IiwiY3VwY2FrZUNvdW50ZXJFbGVtZW50IiwiZG9udXRDb3VudGVyRWxlbWVudCIsImNob2NvbGF0ZUNvdW50ZXJFbGVtZW50IiwicGllQ291bnRlckVsZW1lbnQiLCJjb2xhQ291bnRlckVsZW1lbnQiLCJjYWtlQ291bnRlckVsZW1lbnQiLCJ1cGRhdGVTdWdhckNvdW50ZXIiLCJ0ZXh0Q29udGVudCIsInN1Z2FyIiwiU291bmRNYW5hZ2VyIiwiaW5pdFNvdW5kIiwiU291bmQiLCJhdXRvcGxheSIsInZvbHVtZSIsImxvb3AiLCJjbGlja1NvdW5kIiwiZ2V0U291bmQiLCJDb29raWVNYWtlck1hbmFnZXIiLCJjbGlja3MiLCJjbGlja3NUb01ha2VDb29raWUiLCJtYWtlQ29va2llIiwiY2FudmFzSWQiLCJkZWJ1Z01vZGUiLCJzdGFydEJ1dHRvbiIsImdldEVsZW1lbnRCeUlkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0YXJ0R2FtZSIsIndpbmRvdyIsInBhdXNlIiwib25jZSIsImV2ZW50Iiwib25LZXlEb3duIiwiRW5naW5lIiwiYW50aWFsaWFzIiwiYWxsb3dTbGVlcCIsInNsZWVwVGltZUxpbWl0Iiwid2FsbFRva2VucyIsIndhbGxzRG93biIsInNjZW5lTWFuYWdlciIsImNvb2tpZU1ha2VyIiwiYXVkaW9Db250ZXh0IiwiQXVkaW9Db250ZXh0Iiwid2Via2l0QXVkaW9Db250ZXh0IiwiamluZ2xlMiIsInNvdW5kTWFuYWdlciIsImdhbWVPYmplY3RNYW5hZ2VyIiwicHVzaGVySW1wb3N0b3IiLCJjb2luUGlwZU1hbmFnZXIiLCJfc3RhcnRHYW1lTG9vcCIsIl9zZXR1cEJ1dHRvbnMiLCJkb0FUaGluZyIsImtleSIsInJ1blJlbmRlckxvb3AiLCJyZW5kZXIiLCJkcm9wQ29va2llQnV0dG9uIiwibWFrZUNvb2tpZUJ1dHRvbiIsImRyb3BEb251dEJ1dHRvbiIsImRyb3BDdXBjYWtlQnV0dG9uIiwiZHJvcENob2NvbGF0ZUJhckJ1dHRvbiIsImRyb3BQaWVCdXR0b24iLCJkcm9wQ29sYUJ1dHRvbiIsImRyb3BDYWtlQnV0dG9uIiwid2FsbEJ1dHRvbiIsImJpZ1B1c2hCdXR0b24iLCJ0b2dnbGVDYW1lcmFMb2NrQnV0dG9uIl0sInNvdXJjZVJvb3QiOiIifQ==